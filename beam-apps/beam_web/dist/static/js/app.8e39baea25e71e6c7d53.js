webpackJsonp([2],{"+8Wd":function(t,e){},"0ZNX":function(t,e){},"3pLw":function(t,e,i){"use strict";var s=i("//Fk"),o=i.n(s),a=i("woOf"),n=i.n(a),l=i("mtWM"),r=i.n(l),c={},u=i("zL8q"),d={get:function(t,e){var i=n()({},c,e);return r.a.get(t,{params:i}).then(function(t){return o.a.resolve(t.data)})},post:function(t,e){return r.a.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8",t="/energy_ht"+t,r.a.post(t,e).then(function(t){return null==t.data.code?o.a.resolve(t.data):403===t.data.code||402==t.data.code?(window.location="/#/login",o.a.reject(t)):0===t.data.code?o.a.resolve(t.data):void u.Message.error(t.data.msg)}).catch(function(t){if(console.log(t.config),t.response){var e={code:t.code,msg:t.message};return o.a.reject(e)}if(t.request){if(4==t.request.readyState&&0==t.request.status){e={code:403,msg:"网络链接错误，请刷新重试！"};return o.a.reject(e)}}else console.log("Error",t.message),u.Message.error(t.message)})}};e.a=d},"3xzg":function(t,e){},"A+kf":function(t,e){},AYsf:function(t,e){},Fjiv:function(t,e,i){"use strict";var s=i("zgCA"),o=i.n(s),a=i("w4jL");var n=function(t){i("lryW")},l=i("VU/8")(o.a,a.a,!1,n,null,null);e.default=l.exports},JAM6:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=i("VU/8")({name:"App",data:function(){return{}},mounted:function(){},methods:{}},o,!1,function(t){i("xjG/")},null,null).exports,n=i("/ocq"),l=i("TIfe"),r={name:"sidebar",data:function(){return{sideItems:Ve[1].children}},computed:{},methods:{}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sidebar"},[i("div",{staticClass:"sidebar__logo-wrap"},[i("div",{staticClass:"sidebar__logo",style:{backgroundImage:"url(/static/images/avatar_logo.png)"}})]),t._v(" "),i("ul",{staticClass:"sidebar__container"},t._l(t.sideItems,function(e,s){return e.exclude?t._e():i("li",[i("router-link",{attrs:{to:e.path}},[[i("i",{staticClass:"sidebar__logo",class:e.icon?e.icon:"el-icon-tickets"}),t._v(" "+t._s(e.name))]],2)],1)}))])},staticRenderFns:[]};var u=i("VU/8")(r,c,!1,function(t){i("R1ah")},null,null).exports,d=i("3pLw"),p=function(t){return d.a.post("/account/password",t)},m={name:"headerbar",data:function(){var t=this;return{loading:!1,dialogFormVisible:!1,pwdForm:{oldPwd:"",newPwd:"",password_confirm:""},rules:{oldPwd:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newPwd:[{required:!0,message:"请输入新密码",trigger:"blur"}],password_confirm:[{validator:function(e,i,s){""===i?s(new Error("请再次输入密码")):i!==t.pwdForm.newPwd?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}]}}},mounted:function(){},methods:{handleCommand:function(t){2==t&&(this.dialogFormVisible=!0)},modifyPwd:function(){var t=this;this.$refs.AccountForm.validate(function(e){e&&(t.loading=!0,p(t.pwdForm).then(function(e){t.loading=!1,0===e.code?(t.dialogFormVisible=!1,t.$message.success("修改成功！"),Object(l.b)(""),location.reload()):t.$message.error(e.msg)},function(e){t.loading=!1,t.$message.error(e.msg)}))})}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"header-bar"},[i("div",{staticClass:"header__user-wrap"},[i("div",{staticClass:"header__icon",staticStyle:{"background-image":"url('/static/images/icon_store.png')"}}),t._v(" "),i("el-dropdown",{on:{command:t.handleCommand}},[i("span",[t._v("管理员")]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",[t._v("管理员")]),t._v(" "),i("el-dropdown-item",{attrs:{command:"2"}},[t._v("修改密码")]),t._v(" "),i("el-dropdown-item",{attrs:{command:""}},[t._v("注销")])],1)],1)],1)]),t._v(" "),i("el-dialog",{attrs:{title:"修改密码",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"AccountForm",attrs:{model:t.pwdForm,rules:t.rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"旧密码",prop:"oldPwd"}},[i("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"旧密码"},model:{value:t.pwdForm.oldPwd,callback:function(e){t.$set(t.pwdForm,"oldPwd","string"==typeof e?e.trim():e)},expression:"pwdForm.oldPwd"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"新密码",prop:"newPwd"}},[i("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"新密码"},model:{value:t.pwdForm.newPwd,callback:function(e){t.$set(t.pwdForm,"newPwd","string"==typeof e?e.trim():e)},expression:"pwdForm.newPwd"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"确认密码",prop:"password_confirm"}},[i("el-input",{attrs:{type:"password",placeholder:"确认密码"},model:{value:t.pwdForm.password_confirm,callback:function(e){t.$set(t.pwdForm,"password_confirm","string"==typeof e?e.trim():e)},expression:"pwdForm.password_confirm"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading,size:"mini"},on:{click:function(e){t.modifyPwd()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var f={name:"HOME",components:{Sidebar:u,Headerbar:i("VU/8")(m,h,!1,function(t){i("kmkW")},"data-v-5d9c2357",null).exports},data:function(){return{transitionName:"slide-bottom"}},mounted:function(){},methods:{}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"home"}},[e("sidebar"),this._v(" "),e("div",{staticClass:"container"},[e("headerbar"),this._v(" "),e("div",{staticClass:"app"},[e("div",{staticClass:"app-inner"},[e("transition",{attrs:{name:this.transitionName,mode:"out-in"}},[e("router-view")],1)],1)])],1)],1)},staticRenderFns:[]};var _=i("VU/8")(f,g,!1,function(t){i("yc4b")},null,null).exports,v={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dashboard"},[e("div",{staticClass:"dashboard-center"},[this._v("\n    这里是首页\n  ")])])}]},b=i("VU/8")(null,v,!1,null,null,null).exports,w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"second-router"}},[t.routeInfo.hidden_child?t._e():i("div",{staticClass:"router-left"},[t.routeInfo?i("ul",{staticClass:"second-menu"},t._l(t.routeInfo.children||[],function(e){return e.name?i("li",{staticClass:"menu__item"},[t._v("\n        "+t._s(e.name)+"\n        "),i("ul",t._l(e.children||[],function(s,o){return s.exclude?t._e():i("li",[s.disabled?i("span",{staticClass:"menu-sub__item disabled",on:{click:function(e){t.$message.warning("敬请期待！！！")}}},[t._v(t._s(s.name))]):i("router-link",{staticClass:"menu-sub__item",attrs:{to:t.routeInfo.path+"/"+e.path+"/"+s.path},nativeOn:{click:function(i){t.c(t.routeInfo.path+"/"+e.path+"/"+s.path)}}},[t.badge&&t.badge.index===o&&t.badge.val>0?i("el-badge",{attrs:{value:t.badge.val}},[t._v(t._s(s.name))]):[t._v(t._s(s.name))]],2)],1)}))]):t._e()})):t._e()]),t._v(" "),i("div",{staticClass:"router-right"},[i("div",{staticClass:"router-right__content"},[i("router-view")],1)])])},staticRenderFns:[]};var k=i("VU/8")({props:["routeInfo","badge"],methods:{c:function(t){}}},w,!1,function(t){i("JAM6")},null,null).exports,y={name:"router",data:function(){return{route:L}},components:{SecondRouter:k}},x={render:function(){var t=this.$createElement;return(this._self._c||t)("SecondRouter",{attrs:{"route-info":this.route}})},staticRenderFns:[]},C=i("VU/8")(y,x,!1,null,null,null).exports,z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"member"}},[e("router-view")],1)},staticRenderFns:[]};var $=i("VU/8")({},z,!1,function(t){i("uFv7")},null,null).exports,S=i("Fjiv"),P=function(t){return d.a.post("/member/list",t)},N={name:"member-list",components:{CommonTemplate:S.default},data:function(){return{list:null,req:{nickName:""},page:{pageNo:1,pageSize:20}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.req.p=this.page.pageNo,this.req.s=this.page.pageSize,P(this.req).then(function(e){t.list=e.list?e.list:[],t.page=e.page},function(e){t.list=[],t.$message.error(e.msg)})},reload:function(){this.page.pageNo=1,this.getList()},changePageSize:function(t){this.page.pageNo=1,this.page.pageSize=t,this.list=null,this.getList()},changePageNo:function(t){this.page.pageNo=t,this.list=null,this.getList()}}},E={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"member-list"},[i("common-template",[i("h1",{staticClass:"content__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),i("div",{staticClass:"content__main-list",attrs:{slot:"list"},slot:"list"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!t.list,expression:"!list"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"}},[i("el-table-column",{attrs:{label:"客户信息","min-width":"300",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"info-item"},[i("i",{staticClass:"item__image",style:{backgroundImage:"url("+e.row.photo+")"}}),t._v(" "),i("div",{staticClass:"item__info"},[i("p",{staticClass:"item__info-main",staticStyle:{"font-weight":"500"}},[t._v(t._s(e.row.nickName))])])])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"可用能量",align:"center",prop:"energy"}}),t._v(" "),i("el-table-column",{attrs:{label:"历史能量",align:"center",prop:"totalEnergy"}}),t._v(" "),i("el-table-column",{attrs:{label:"加入时间",align:"center",prop:"createTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"最近一次登录时间",align:"center",prop:"lastLoginTime"}})],1),t._v(" "),t.list&&t.list.length>0?i("div",{staticStyle:{"text-align":"center","margin-top":"60px"}},[i("el-pagination",{attrs:{"page-sizes":[10,20,30,40,50],"page-size":t.page.pageSize,"current-page":t.page.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:t.page.totalRows},on:{"size-change":t.changePageSize,"current-change":t.changePageNo}})],1):t._e()],1)])],1)},staticRenderFns:[]};var L={path:"/member",name:"微信客户",icon:"el-icon-view",component:$,hidden_child:!1,children:[{name:"客户管理",path:"manager",component:C,children:[{name:"全部客户",path:"list",component:i("VU/8")(N,E,!1,function(t){i("QYWw")},null,null).exports,meta:{title:"客户列表"}}],redirect:"/member/manager/list"}],redirect:"/member/manager"},T={name:"router",data:function(){return{route:St}},components:{SecondRouter:k}},D={render:function(){var t=this.$createElement;return(this._self._c||t)("SecondRouter",{attrs:{"route-info":this.route}})},staticRenderFns:[]},V=i("VU/8")(T,D,!1,null,null,null).exports,q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"energy"}},[e("router-view")],1)},staticRenderFns:[]};var F=i("VU/8")({},q,!1,function(t){i("oIwQ")},null,null).exports,U=function(t){return d.a.post("/poster/list",t)},A=function(t){return d.a.post("/poster/"+t+"/info",{})},R=function(t){return d.a.post("/poster/save",t)},B=function(t){return d.a.post("/poster/delete",t)},I=function(t,e){return d.a.post("/poster/publish/"+e,t)},j=function(t){return d.a.post("/category/"+t+"/chooselist",{})},O=function(t){return d.a.post("/files/upload",t)},W={name:"poster-list",components:{CommonTemplate:S.default},data:function(){return{list:null,req:{cid:0,type:1},page:{pageNo:1,pageSize:20},choose_id_arr:[],cate_list:[]}},created:function(){this.getList(),this.getCateList()},methods:{getList:function(){var t=this;this.req.p=this.page.pageNo,this.req.s=this.page.pageSize,U(this.req).then(function(e){t.list=e.list,t.list.forEach(function(t){t.frozen=Boolean(t.frozen)}),t.page=e.page},function(e){t.$message.error(e.msg)})},reload:function(){this.page.pageNo=1,this.getList()},changePageSize:function(t){this.page.pageNo=1,this.page.pageSize=t,this.list=null,this.getList()},changePageNo:function(t){this.page.pageNo=t,this.list=null,this.getList()},handleSelectionChange:function(t){this.choose_id_arr=t},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection(),this.choose_id_arr=t},handleEdit:function(t){this.$router.push({path:"/energy/manager/1/edit/"+t})},changeStatus:function(t,e){var i=this;I([t],e?1:0).then(function(t){i.$message.success("操作成功"),i.reload()},function(t){i.$message.error(t.msg)})},handleDelete:function(t){var e=this,i=[t];if(0==t){if(0===this.choose_id_arr.length)return void this.$message.error("请至少选择一项！");i=this.choose_id_arr.map(function(t){return t.id})}this.$confirm("删除后无法恢复，是否确认？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){B(i).then(function(t){e.$message.success("操作成功"),e.reload()},function(t){e.$message.error(t.msg)})})},getCateList:function(){var t=this;j(1).then(function(e){t.getChooseList(e.list,0)},function(e){t.$message.error(e.msg)})},getChooseList:function(t,e){var i=this;t&&(0==e&&(this.cate_list=[]),e+=1,t.forEach(function(t){for(var s=20,o=2;o<=e;o++)s+=10;i.cate_list.push({id:t.id,name:t.name,style:s+"px"}),i.getChooseList(t.list,e)}))}}},H={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"poster-list"},[i("common-template",[i("h1",{staticClass:"content__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),i("div",{staticClass:"content__main-operation",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"operation-left"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.$router.push("/energy/manager/1/add")}}},[t._v("新增文章")]),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){t.handleDelete(0)}}},[t._v("批量删除")])],1),t._v(" "),i("div",{staticClass:"operation-right"},[i("el-select",{attrs:{size:"small",placeholder:"全部分类"},on:{change:t.reload},model:{value:t.req.cid,callback:function(e){t.$set(t.req,"cid",e)},expression:"req.cid"}},[i("el-option",{attrs:{value:0,label:"全部分类"}}),t._v(" "),t._l(t.cate_list,function(t,e){return i("el-option",{key:e,style:{"padding-left":t.style},attrs:{label:t.name,value:t.id}})})],2),t._v(" "),i("el-input",{attrs:{size:"small",placeholder:"请输入内容"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.reload(e):null}},model:{value:t.req.keywords,callback:function(e){t.$set(t.req,"keywords",e)},expression:"req.keywords"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){t.reload()}},slot:"append"})],1)],1)]),t._v(" "),i("div",{staticClass:"content__main-list",attrs:{slot:"list"},slot:"list"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!t.list,expression:"!list"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{label:"文章信息",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"info-item"},[i("i",{staticClass:"item__image",style:{backgroundImage:"url("+e.row.thumb+")"}}),t._v(" "),i("div",{staticClass:"item__info"},[i("p",{staticClass:"item__info-main",staticStyle:{"font-weight":"500"}},[t._v(t._s(e.row.title)+" "),1==e.row.isHot?i("el-tag",{attrs:{type:"danger",size:"mini"}},[t._v("推荐")]):t._e()],1),t._v(" "),i("p",{staticClass:"item__info-sub"},[t._v("栏目："+t._s(e.row.cname))]),t._v(" "),i("p",{staticClass:"item__info-sub"},[t._v("作者："+t._s(e.row.author))])])])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"简介",align:"left",prop:"brief"}}),t._v(" "),i("el-table-column",{attrs:{width:"150",label:"发布状态",align:"center",prop:"createTime"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-switch",{attrs:{"active-text":e.row.frozen?"已发布":"隐藏中"},on:{change:function(i){t.changeStatus(e.row.id,e.row.frozen)}},model:{value:e.row.frozen,callback:function(i){t.$set(e.row,"frozen",i)},expression:"scope.row.frozen"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"100",label:"发布时间",align:"center",prop:"createTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){t.handleEdit(e.row.id)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.list&&t.list.length>0?i("div",{staticStyle:{"text-align":"center","margin-top":"60px"}},[i("el-pagination",{attrs:{"page-sizes":[10,20,30,40,50],"page-size":t.page.pageSize,"current-page":t.page.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:t.page.totalRows},on:{"size-change":t.changePageSize,"current-change":t.changePageNo}})],1):t._e()],1)])],1)},staticRenderFns:[]};var K=i("VU/8")(W,H,!1,function(t){i("y+jZ")},null,null).exports,M=i("Dd8w"),G=i.n(M),Z=i("NYxO"),J={props:{show:{type:Boolean,default:!1},limit:{type:Number,default:1},limit_max:{type:Boolean,default:!0},current_len:{type:Number,default:0},multity:{type:String,default:""},action:{type:String,default:"add"},reset:{type:Boolean,default:!1}},data:function(){return{formLabelWidth:"100px",binded:!1,pics:[],can_add:!0,len:this.current_len,prev_len:null,url:null,my_show:this.show,multity_len_map:{},is_mutiple:!0}},mounted:function(){},updated:function(){if(this.show&&!this.binded&&this.$refs.file){this.binded=!0;var t=this.limit,e=this;this.$refs.file.onchange=function(){var i=this,s=this.files.length;if(e.limit_max){var o=""===e.multity?e.len:e.multity_len_map[e.multity];this.files.length>=t-o&&(s=t-o,e.can_add=!1,this.files.length!==s&&e.$message.warning("已自动过滤 "+(this.files.length-s)+" 张"))}else s=s>t?t:s;for(var a=function(t){var o=new FileReader;o.addEventListener("load",function(i){var o=i.target.result;e.pics.push(o),t===s-1&&(""===e.multity?e.len+=s:e.multity_len_map[e.multity]+=s),e.$refs.file.value=null}),o.readAsDataURL(i.files[t])},n=0;n<s;n++)a(n)}}},methods:{cancel:function(){this.pics=[],this.prev_len&&(this.len=this.prev_len),this.$emit("update:show",!1)},confirm:function(){this.$emit("confirm",this.pics),this.$emit("update:show",!1),this.pics=[]},confirmWithUrl:function(){this.url?(""===this.multity?this.len+=1:this.multity_len_map[this.multity]+=1,this.$emit("update:show",!1),this.$emit("confirm",[this.url])):this.$message.error("请输入要提取图片的地址")},deletePhoto:function(t){this.pics.splice(t,1),""===this.multity?this.len-=1:this.multity_len_map[this.multity]-=1,this.can_add=!0}},watch:{current_len:function(t){this.len=t},show:function(t){if(this.my_show=t,this.limit_max){if(t){if(this.reset)return""===this.multity?this.len=0:this.multity_len_map[this.multity]=0,this.is_mutiple=!0,this.can_add=!0,void this.$emit("update:reset",!1);if("change"===this.action)this.is_mutiple=!1,""===this.multity?this.len=0:this.multity_len_map[this.multity]=0,this.limit>1?this.$message.error("超过1张不可修改"):this.can_add=!0;else{if(console.log("add"),this.is_mutiple=!0,""===this.multity){if(this.len>=this.limit)return void(this.can_add=!1)}else if(!this.multity_len_map[this.multity]&&(this.multity_len_map[this.multity]=0),this.multity_len_map[this.multity]>=this.limit)return void(this.can_add=!1);this.can_add=!0}}}else this.can_add=!0},my_show:function(t){t||(this.cancel(),this.$emit("update:show",!1))}}},Y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{staticClass:"photo-dialog",attrs:{title:"本地上传",visible:t.my_show},on:{"update:visible":function(e){t.my_show=e}}},[i("el-form",[i("el-form-item",{attrs:{label:"网络图片","label-width":t.formLabelWidth}},[i("div",{staticClass:"dialog-row"},[i("el-input",{staticClass:"dialog-input",attrs:{"auto-complete":"off",size:"small"},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:t.confirmWithUrl}},[t._v("提取")])],1)]),t._v(" "),i("el-form-item",{attrs:{label:"本地图片","label-width":t.formLabelWidth}},[i("div",[i("ul",{staticClass:"xs-upload-list"},t._l(t.pics,function(e,s){return i("li",{staticClass:"xs-upload-list__item"},[i("img",{staticClass:"xs-upload-list__item-thumb",attrs:{src:e,alt:""}}),t._v(" "),i("span",{staticClass:"xs-upload-list__item-actions",on:{click:function(e){e.stopPropagation(),t.deletePhoto(s)}}},[i("span",{staticClass:"xs-upload-list__item-delete"},[i("i",{staticClass:"el-icon-delete"})])])])})),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.can_add,expression:"can_add"}],staticClass:"xs-upload",attrs:{tabindex:"0"}},[i("i",{staticClass:"el-icon-plus"}),t._v(" "),i("input",{ref:"file",staticClass:"xs-upload__input",attrs:{type:"file",name:"file",accept:"image/jpeg, image/png, image/gif",multiple:t.is_mutiple}})])])])],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.confirm}},[t._v("确 定")])],1)],1)},staticRenderFns:[]};var Q=i("VU/8")(J,Y,!1,function(t){i("AYsf")},"data-v-07d58724",null).exports,X={name:"poster-list",components:{UploadPhoto:Q},computed:G()({},Object(Z.b)(["isShowUpload"])),data:function(){return{editor_imgs:[],showPhotoDialog:!1,btn_loading:!1,btn_desc_loading:!1,activeName:"first",formLabelWidth:"120px",poster:{frozen:!0,isHot:!1,sort:100,content:""},next_disbaled:!0,rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],author:[{required:!0,message:"作者不能为空",trigger:"blur"}],cid:[{required:!0,message:"请选择分类",trigger:"blur"}]},cate_list:[],choose_cate_arr:[]}},created:function(){this.$route.params.type&&(this.poster.type=this.$route.params.type),this.$route.params.id&&(this.poster.id=this.$route.params.id,this.getPosterInfo()),this.getCateList()},methods:G()({getPosterInfo:function(){var t=this;A(this.poster.id).then(function(e){t.next_disbaled=!1,t.poster=e.poster,t.poster.content=t.poster.content?t.poster.content:"",t.poster.frozen=Boolean(t.poster.frozen),t.getCateList()},function(e){t.$message.error(e.msg)})},save:function(){var t=this;this.$refs.EditForm.validate(function(e){e&&(t.btn_loading=!0,R(t.poster).then(function(e){t.btn_loading=!1,0===e.code?(t.$message.success("保存成功！"),t.poster.id=e.posterId,1==t.poster.type?(t.activeName="second",t.next_disbaled=!1):t.back()):t.$message.error(e.msg)},function(e){t.btn_loading=!1,t.$message.error(e.msg)}))})},saveDesc:function(){var t=this;this.btn_desc_loading=!0,R({id:this.poster.id,content:this.poster.content}).then(function(e){t.btn_desc_loading=!1,0===e.code?(t.$message.success("保存成功！"),t.activeName="first",t.back()):t.$message.error(e.msg)},function(e){t.btn_desc_loading=!1,t.$message.error(e.msg)})},confirmPhoto:function(t){this.poster.thumb=t[0]},updateData:function(t){this.poster.content=t},back:function(){1==this.poster.type?this.$router.push({path:"/energy/manager/poster"}):this.$router.push({path:"/energy/manager/video"})},getCateList:function(){var t=this;j(this.poster.type).then(function(e){t.getChooseList(e.list,0)},function(e){t.$message.error(e.msg)})},getChooseList:function(t,e){var i=this;t&&(0==e&&(this.cate_list=[]),e+=1,t.forEach(function(t){for(var s=20,o=2;o<=e;o++)s+=20;i.cate_list.push({id:t.id,name:t.name,style:s+"px"}),i.getChooseList(t.list,e)}))}},Object(Z.c)(["showUpload"]),{confirmEditorImg:function(t){var e=this;this.showUpload(!1),console.log(t);var i=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});O(t).then(function(t){i.close(),t.picArr&&t.picArr.forEach(function(t){e.$refs.editor.execCommand("insertImage",t)})},function(t){i.close(),e.$message.error(t.msg)})},switchEditorShow:function(t){this.showUpload(t)}})},tt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-add-content goods-add-content"},[i("h1",{staticClass:"content__title"},[1==t.poster.type?i("router-link",{attrs:{to:"/energy/manager/poster"}},[t._v("励志文章 ")]):2==t.poster.type?i("router-link",{attrs:{to:"/energy/manager/video"}},[t._v("励志视频 ")]):t._e(),t._v("\n    / "+t._s(t.$route.meta.title)+"\n  ")],1),t._v(" "),i("div",{staticClass:"content__main",staticStyle:{"margin-top":"20px"}},[i("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{staticClass:"main-first",staticStyle:{"padding-bottom":"30px"},attrs:{label:"① 填写基本信息",name:"first"}},[i("div",{staticClass:"section"},[i("el-form",{ref:"EditForm",staticStyle:{width:"600px"},attrs:{rules:t.rules,model:t.poster,"label-width":t.formLabelWidth}},[i("el-form-item",{attrs:{label:1==t.poster.type?"缩略图":"封面图"}},[i("ul",{staticClass:"app-image-list"},[t.poster.thumb?i("li",{staticClass:"image-item",on:{click:function(e){t.showPhotoDialog=!0}}},[i("img",{attrs:{src:t.poster.thumb,role:"presentation",alt:"",width:"80"}})]):i("li",{staticClass:"el-upload el-upload--picture-card",staticStyle:{width:"80px",height:"80px","line-height":"1"},on:{click:function(e){t.showPhotoDialog=!0}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"40px","margin-top":"20px"}})])])]),t._v(" "),i("el-form-item",{attrs:{label:"分类",prop:"cid"}},[i("el-select",{attrs:{size:"small",placeholder:"请选择分类"},model:{value:t.poster.cid,callback:function(e){t.$set(t.poster,"cid",e)},expression:"poster.cid"}},t._l(t.cate_list,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),t._v(" "),i("a",{staticClass:"form__button",attrs:{href:"/#/energy/manager/category"}},[t._v("新增分类")])],1),t._v(" "),i("el-form-item",{attrs:{label:"标题",prop:"title"}},[i("el-input",{attrs:{size:"small"},model:{value:t.poster.title,callback:function(e){t.$set(t.poster,"title",e)},expression:"poster.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"作者",prop:"author"}},[i("el-input",{attrs:{size:"small"},model:{value:t.poster.author,callback:function(e){t.$set(t.poster,"author",e)},expression:"poster.author"}})],1),t._v(" "),2==t.poster.type?[i("el-form-item",{attrs:{label:"视频地址",prop:"videoUrl",required:""}},[i("el-input",{attrs:{size:"small"},model:{value:t.poster.videoUrl,callback:function(e){t.$set(t.poster,"videoUrl",e)},expression:"poster.videoUrl"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[i("a",{attrs:{href:"https://shimo.im/doc/ayL4ksdCWgAUZwue?r=08ZY3M",target:"_blank"}},[t._v("如何获取原始视频?")])])],1),t._v(" "),i("el-form-item",{attrs:{label:"视频时长",prop:"duration",required:""}},[i("el-input",{attrs:{size:"small"},model:{value:t.poster.duration,callback:function(e){t.$set(t.poster,"duration",e)},expression:"poster.duration"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("如：05:30")])],1)]:t._e(),t._v(" "),i("el-form-item",{attrs:{label:"简介",prop:"brief"}},[i("el-input",{attrs:{type:"textarea",rows:5,size:"small"},model:{value:t.poster.brief,callback:function(e){t.$set(t.poster,"brief",e)},expression:"poster.brief"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"是否推荐",prop:"isHot"}},[i("el-switch",{attrs:{"active-text":t.poster.isHot?"是":"否"},model:{value:t.poster.isHot,callback:function(e){t.$set(t.poster,"isHot",e)},expression:"poster.isHot"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"排序字段",prop:"sort"}},[i("el-input",{attrs:{size:"small"},model:{value:t.poster.sort,callback:function(e){t.$set(t.poster,"sort",e)},expression:"poster.sort"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("按数值大小升序，越小排在越前")])],1),t._v(" "),i("el-form-item",{attrs:{label:"显示状态",prop:"frozen"}},[i("el-switch",{attrs:{"active-text":t.poster.frozen?"发布":"隐藏"},model:{value:t.poster.frozen,callback:function(e){t.$set(t.poster,"frozen",e)},expression:"poster.frozen"}})],1)],2)],1),t._v(" "),i("div",{staticClass:"next-footer",staticStyle:{"margin-left":"120px"}},[i("el-button",{attrs:{size:"small",type:"primary",loading:t.btn_loading},on:{click:t.save}},[t._v(t._s(1==t.poster.type?"保存并下一步":"保存"))]),t._v(" "),i("el-button",{attrs:{size:"small"},on:{click:t.back}},[t._v("返回")])],1)]),t._v(" "),1==t.poster.type?i("el-tab-pane",{staticStyle:{"padding-bottom":"30px"},attrs:{label:"② 编辑详情",name:"second",disabled:t.next_disbaled}},[i("vue-html5-editor",{ref:"editor",attrs:{content:t.poster.content,"show-module-name":!1,height:500},on:{change:t.updateData}}),t._v(" "),i("div",{staticClass:"next-footer",staticStyle:{"margin-left":"120px","margin-top":"10px"}},[i("el-button",{attrs:{size:"small",type:"primary",loading:t.btn_desc_loading},on:{click:function(e){t.saveDesc()}}},[t._v("保存")]),t._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(e){t.activeName="first"}}},[t._v("上一步")])],1)],1):t._e()],1)],1),t._v(" "),i("upload-photo",{attrs:{limit:1,action:"change",show:t.showPhotoDialog},on:{"update:show":function(e){t.showPhotoDialog=e},confirm:t.confirmPhoto}}),t._v(" "),i("upload-photo",{attrs:{limit:5,limit_max:!1,show:t.isShowUpload,current_len:t.editor_imgs.length},on:{confirm:t.confirmEditorImg,"update:show":t.switchEditorShow}})],1)},staticRenderFns:[]};var et=i("VU/8")(X,tt,!1,function(t){i("k2gW")},null,null).exports,it={name:"poster-list",components:{CommonTemplate:S.default},data:function(){return{list:null,req:{cid:0,type:2},page:{pageNo:1,pageSize:20},choose_id_arr:[],cate_list:[]}},created:function(){this.getList(),this.getCateList()},methods:{getList:function(){var t=this;this.req.p=this.page.pageNo,this.req.s=this.page.pageSize,U(this.req).then(function(e){t.list=e.list,t.list.forEach(function(t){t.frozen=Boolean(t.frozen)}),t.page=e.page},function(e){t.$message.error(e.msg)})},reload:function(){this.page.pageNo=1,this.getList()},changePageSize:function(t){this.page.pageNo=1,this.page.pageSize=t,this.list=null,this.getList()},changePageNo:function(t){this.page.pageNo=t,this.list=null,this.getList()},handleSelectionChange:function(t){this.choose_id_arr=t},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection(),this.choose_id_arr=t},handleEdit:function(t){this.$router.push({path:"/energy/manager/2/edit/"+t})},changeStatus:function(t,e){var i=this;I([t],e?1:0).then(function(t){i.$message.success("操作成功"),i.reload()},function(t){i.$message.error(t.msg)})},handleDelete:function(t){var e=this,i=[t];if(0==t){if(0===this.choose_id_arr.length)return void this.$message.error("请至少选择一项！");i=this.choose_id_arr.map(function(t){return t.id})}this.$confirm("删除后无法恢复，是否确认？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){B(i).then(function(t){e.$message.success("操作成功"),e.reload()},function(t){e.$message.error(t.msg)})})},getCateList:function(){var t=this;j(2).then(function(e){t.getChooseList(e.list,0)},function(e){t.$message.error(e.msg)})},getChooseList:function(t,e){var i=this;t&&(0==e&&(this.cate_list=[]),e+=1,t.forEach(function(t){for(var s=20,o=2;o<=e;o++)s+=10;i.cate_list.push({id:t.id,name:t.name,style:s+"px"}),i.getChooseList(t.list,e)}))}}},st={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"poster-list"},[i("common-template",[i("h1",{staticClass:"content__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),i("div",{staticClass:"content__main-operation",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"operation-left"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.$router.push("/energy/manager/2/add")}}},[t._v("新增视频")]),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){t.handleDelete(0)}}},[t._v("批量删除")])],1),t._v(" "),i("div",{staticClass:"operation-right"},[i("el-select",{attrs:{size:"small",placeholder:"全部分类"},on:{change:t.reload},model:{value:t.req.cid,callback:function(e){t.$set(t.req,"cid",e)},expression:"req.cid"}},[i("el-option",{attrs:{value:0,label:"全部分类"}}),t._v(" "),t._l(t.cate_list,function(t,e){return i("el-option",{key:e,style:{"padding-left":t.style},attrs:{label:t.name,value:t.id}})})],2),t._v(" "),i("el-input",{attrs:{size:"small",placeholder:"请输入内容"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.reload(e):null}},model:{value:t.req.keywords,callback:function(e){t.$set(t.req,"keywords",e)},expression:"req.keywords"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){t.reload()}},slot:"append"})],1)],1)]),t._v(" "),i("div",{staticClass:"content__main-list",attrs:{slot:"list"},slot:"list"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!t.list,expression:"!list"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{label:"视频信息",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"info-item"},[i("i",{staticClass:"item__image",style:{backgroundImage:"url("+e.row.thumb+")"}}),t._v(" "),i("div",{staticClass:"item__info"},[i("p",{staticClass:"item__info-main",staticStyle:{"font-weight":"500"}},[t._v(t._s(e.row.title)+" "),1==e.row.isHot?i("el-tag",{attrs:{type:"danger",size:"mini"}},[t._v("推荐")]):t._e()],1),t._v(" "),i("p",{staticClass:"item__info-sub"},[t._v("栏目："+t._s(e.row.cname))]),t._v(" "),i("p",{staticClass:"item__info-sub"},[t._v("作者："+t._s(e.row.author))])])])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"视频地址",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{staticStyle:{color:"#409EFF","text-decoration":"underline"},attrs:{href:e.row.videoUrl,target:"_blank"}},[t._v(t._s(e.row.videoUrl))])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"150",label:"发布状态",align:"center",prop:"createTime"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-switch",{attrs:{"active-text":e.row.frozen?"已发布":"隐藏中"},on:{change:function(i){t.changeStatus(e.row.id,e.row.frozen)}},model:{value:e.row.frozen,callback:function(i){t.$set(e.row,"frozen",i)},expression:"scope.row.frozen"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"100",label:"发布时间",align:"center",prop:"createTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){t.handleEdit(e.row.id)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.list&&t.list.length>0?i("div",{staticStyle:{"text-align":"center","margin-top":"60px"}},[i("el-pagination",{attrs:{"page-sizes":[10,20,30,40,50],"page-size":t.page.pageSize,"current-page":t.page.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:t.page.totalRows},on:{"size-change":t.changePageSize,"current-change":t.changePageNo}})],1):t._e()],1)])],1)},staticRenderFns:[]};var ot=i("VU/8")(it,st,!1,function(t){i("R33N")},null,null).exports,at=function(t){return d.a.post("/picture/list",t)},nt=function(t){return d.a.post("/picture/save",t)},lt=function(t){return d.a.post("/picture/delete",t)},rt=function(t,e){return d.a.post("/picture/publish/"+e,t)},ct=function(){return d.a.post("/picture/advert",{})},ut=function(t){return d.a.post("/advert/list",t)},dt=function(t){return d.a.post("/advert/save",t)},pt=function(t){return d.a.post("/advert/delete",t)},mt=function(t,e){return d.a.post("/advert/publish/"+e,t)},ht={name:"pic-list",components:{CommonTemplate:S.default,UploadPhoto:Q},data:function(){var t=this;return{showPhotoDialog:!1,loading:!1,editVisible:!1,list:null,picture:{},req:{},page:{pageNo:1,pageSize:20},choose_id_arr:[],rules:{pic:[{required:!0,message:"请上传图片",trigger:"blur"}]},advert:{position:3,sort:1,frozen:!0,type:1,energy:0},btn_advert_loading:!1,showAdvertPicDialog:!1,editAdvertVisible:!1,advertRules:{linkman:[{required:!0,message:"请填写客户名称",trigger:"blur"}],linkTel:[{required:!0,message:"请填写客户联系方式",trigger:"blur"}],title:[{required:!0,message:"请填写广告标题",trigger:"blur"}],appid:[{validator:function(e,i,s){1!=t.advert.type||i?s():s(new Error("请填写小程序appid"))},trigger:"blur"}],wxadKey:[{validator:function(e,i,s){2!=t.advert.type||i?s():s(new Error("请填写微信广告主key"))},trigger:"blur"}]}}},created:function(){this.getList(),this.getAdvert()},methods:{getList:function(){var t=this;this.req.p=this.page.pageNo,this.req.s=this.page.pageSize,at(this.req).then(function(e){t.list=e.list?e.list:[],t.list.forEach(function(t){t.frozen=Boolean(t.frozen)}),t.page=e.page},function(e){t.$message.error(e.msg)})},reload:function(){this.page.pageNo=1,this.getList()},changePageSize:function(t){this.page.pageNo=1,this.page.pageSize=t,this.list=null,this.getList()},changePageNo:function(t){this.page.pageNo=t,this.list=null,this.getList()},handleSelectionChange:function(t){this.choose_id_arr=t},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection(),this.choose_id_arr=t},handleAdd:function(){this.editVisible=!0,this.picture={frozen:!0,sort:100}},handleEdit:function(t){this.editVisible=!0,this.picture=this.list[t]},save:function(){var t=this;this.$refs.EditForm.validate(function(e){e&&(t.loading=!0,nt(t.picture).then(function(e){t.loading=!1,0===e.code?(t.editVisible=!1,t.$message.success("保存成功！"),t.reload()):t.$message.error(e.msg)},function(e){t.loading=!1,t.$message.error(e.msg)}))})},changeStatus:function(t,e){var i=this;rt([t],e?1:0).then(function(t){i.$message.success("操作成功"),i.reload()},function(t){i.$message.error(t.msg)})},handleDelete:function(t){var e=this,i=[t];if(0==t){if(0===this.choose_id_arr.length)return void this.$message.error("请至少选择一项！");i=this.choose_id_arr.map(function(t){return t.id})}this.$confirm("删除后无法恢复，是否确认？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){lt(i).then(function(t){e.$message.success("操作成功"),e.reload()},function(t){e.$message.error(t.msg)})})},confirmPhoto:function(t){this.picture.pic=t[0]},getAdvert:function(){var t=this;ct().then(function(e){t.advert=e.advert},function(e){t.$message.error(e.msg)})},saveAdvert:function(){var t=this;this.$refs.AdvertForm.validate(function(e){e&&(t.btn_advert_loading=!0,dt(t.advert).then(function(e){t.btn_advert_loading=!1,0===e.code?(t.editAdvertVisible=!1,t.$message.success("保存成功！"),t.reload()):t.$message.error(e.msg)},function(e){t.btn_advert_loading=!1,t.$message.error(e.msg)}))})},handleAdvertEdit:function(){this.editAdvertVisible=!0},confirmAdvertPic:function(t){this.advert.pic=t[0]}}},ft={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"poster-list"},[i("common-template",[i("h1",{staticClass:"content__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),i("div",{staticClass:"content__main-list",attrs:{slot:"list"},slot:"list"},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:[t.advert],"tooltip-effect":"dark"}},[i("el-table-column",{attrs:{label:"广告信息",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"info-item"},[e.row.pic?i("i",{staticClass:"item__image",style:{backgroundImage:"url("+e.row.pic+")"}}):t._e(),t._v(" "),i("div",{staticClass:"item__info"},[i("p",{staticClass:"item__info-main",staticStyle:{"font-weight":"500"}},[t._v(t._s(e.row.title))]),t._v(" "),i("p",{staticClass:"item__info-sub"},[t._v(t._s(e.row.linkman))]),t._v(" "),i("p",{staticClass:"item__info-sub"},[t._v(t._s(e.row.linkTel))])])])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"广告跳转",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.type?i("div",[i("p",[t._v("跳转到小程序")]),t._v(" "),i("p",[t._v(t._s(e.row.appid))]),t._v(" "),i("p",[t._v(t._s(e.row.appPage))])]):t._e(),t._v(" "),2==e.row.type?i("div",[i("p",[t._v("对接微信广告")]),t._v(" "),i("p",[t._v(t._s(e.row.wxadKey))])]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:"创建时间",align:"center",prop:"createTime"}}),t._v(" "),i("el-table-column",{attrs:{width:"100",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){t.handleAdvertEdit(e.$index)}}},[t._v("编辑")])]}}])})],1)],1),t._v(" "),i("div",{staticClass:"content__main-operation",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"operation-left"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleAdd}},[t._v("新增图片")]),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){t.handleDelete(0)}}},[t._v("批量删除")])],1)]),t._v(" "),i("div",{staticClass:"content__main-list",attrs:{slot:"list"},slot:"list"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!t.list,expression:"!list"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{label:"图片",align:"left"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{attrs:{src:t.row.pic,width:"50"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"下载量",align:"center",prop:"downNum"}}),t._v(" "),i("el-table-column",{attrs:{label:"排序",align:"center",prop:"sort"}}),t._v(" "),i("el-table-column",{attrs:{label:"发布状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-switch",{attrs:{"active-text":e.row.frozen?"已发布":"隐藏中"},on:{change:function(i){t.changeStatus(e.row.id,e.row.frozen)}},model:{value:e.row.frozen,callback:function(i){t.$set(e.row,"frozen",i)},expression:"scope.row.frozen"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){t.handleEdit(e.$index)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.list&&t.list.length>0?i("div",{staticStyle:{"text-align":"center","margin-top":"60px"}},[i("el-pagination",{attrs:{"page-sizes":[10,20,30,40,50],"page-size":t.page.pageSize,"current-page":t.page.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:t.page.totalRows},on:{"size-change":t.changePageSize,"current-change":t.changePageNo}})],1):t._e()],1)]),t._v(" "),i("el-dialog",{attrs:{title:"励志美图",visible:t.editVisible},on:{"update:visible":function(e){t.editVisible=e}}},[i("el-form",{ref:"EditForm",attrs:{model:t.picture,rules:t.rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"图片",prop:"pic"}},[i("ul",{staticClass:"app-image-list"},[t.picture.pic?i("li",{staticClass:"image-item",on:{click:function(e){t.showPhotoDialog=!0}}},[i("img",{attrs:{src:t.picture.pic,role:"presentation",alt:"",width:"40"}})]):i("li",{staticClass:"el-upload el-upload--picture-card",staticStyle:{width:"40px",height:"40px","line-height":"1"},on:{click:function(e){t.showPhotoDialog=!0}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"20px","margin-top":"10px"}})])])]),t._v(" "),i("el-form-item",{attrs:{label:"排序字段",prop:"sort"}},[i("el-input",{attrs:{size:"small"},model:{value:t.picture.sort,callback:function(e){t.$set(t.picture,"sort",e)},expression:"picture.sort"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("按数值大小升序，越小排在越前")])],1),t._v(" "),i("el-form-item",{attrs:{label:"显示状态",prop:"frozen"}},[i("el-switch",{attrs:{"active-text":t.picture.frozen?"显示中":"已冻结"},model:{value:t.picture.frozen,callback:function(e){t.$set(t.picture,"frozen",e)},expression:"picture.frozen"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading,size:"mini"},on:{click:function(e){t.save()}}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"美图广告",visible:t.editAdvertVisible},on:{"update:visible":function(e){t.editAdvertVisible=e}}},[i("el-form",{ref:"AdvertForm",attrs:{model:t.advert,rules:t.advertRules,"label-width":"130px"}},[i("el-form-item",{attrs:{label:"图片",prop:"pic"}},[i("ul",{staticClass:"app-image-list"},[t.advert.pic?i("li",{staticClass:"image-item",on:{click:function(e){t.showAdvertPicDialog=!0}}},[i("img",{attrs:{src:t.advert.pic,role:"presentation",alt:"",width:"50"}})]):i("li",{staticClass:"el-upload el-upload--advert-card",staticStyle:{width:"80px",height:"80px","line-height":"1"},on:{click:function(e){t.showAdvertPicDialog=!0}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"40px","margin-top":"20px"}})])])]),t._v(" "),i("el-form-item",{attrs:{label:"客户名称",prop:"linkman"}},[i("el-input",{model:{value:t.advert.linkman,callback:function(e){t.$set(t.advert,"linkman","string"==typeof e?e.trim():e)},expression:"advert.linkman"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"联系方式",prop:"linkTel"}},[i("el-input",{model:{value:t.advert.linkTel,callback:function(e){t.$set(t.advert,"linkTel","string"==typeof e?e.trim():e)},expression:"advert.linkTel"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"广告标题",prop:"title"}},[i("el-input",{model:{value:t.advert.title,callback:function(e){t.$set(t.advert,"title","string"==typeof e?e.trim():e)},expression:"advert.title"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("可以用于备注说明")])],1),t._v(" "),i("el-form-item",{attrs:{label:"广告类型",prop:"frozen"}},[i("el-radio-group",{model:{value:t.advert.type,callback:function(e){t.$set(t.advert,"type",e)},expression:"advert.type"}},[i("el-radio",{attrs:{label:1}},[i("span",{staticStyle:{"font-weight":"normal"}},[t._v("自营")])]),t._v(" "),i("el-radio",{attrs:{label:2}},[i("span",{staticStyle:{"font-weight":"normal"}},[t._v("微信")])])],1)],1),t._v(" "),1==t.advert.type?[i("el-form-item",{attrs:{label:"小程序appid",prop:"appid"}},[i("el-input",{model:{value:t.advert.appid,callback:function(e){t.$set(t.advert,"appid","string"==typeof e?e.trim():e)},expression:"advert.appid"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"小程序页面",prop:"appPage"}},[i("el-input",{model:{value:t.advert.appPage,callback:function(e){t.$set(t.advert,"appPage","string"==typeof e?e.trim():e)},expression:"advert.appPage"}})],1)]:t._e(),t._v(" "),2==t.advert.type?[i("el-form-item",{attrs:{label:"微信广告主key",prop:"wxadKey"}},[i("el-input",{model:{value:t.advert.wxadKey,callback:function(e){t.$set(t.advert,"wxadKey","string"==typeof e?e.trim():e)},expression:"advert.wxadKey"}})],1)]:t._e()],2),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.editAdvertVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading,size:"mini"},on:{click:function(e){t.saveAdvert()}}},[t._v("确 定")])],1)],1),t._v(" "),i("upload-photo",{attrs:{limit:1,action:"change",show:t.showPhotoDialog},on:{"update:show":function(e){t.showPhotoDialog=e},confirm:t.confirmPhoto}}),t._v(" "),i("upload-photo",{attrs:{limit:1,action:"change",show:t.showAdvertPicDialog},on:{"update:show":function(e){t.showAdvertPicDialog=e},confirm:t.confirmAdvertPic}})],1)},staticRenderFns:[]};var gt=i("VU/8")(ht,ft,!1,function(t){i("kugF")},null,null).exports,_t=function(t){return d.a.post("/category/list",t)},vt=function(t){return d.a.post("/category/save",t)},bt=function(t){return d.a.post("/category/delete",t)},wt={name:"category-list",components:{CommonTemplate:S.default,UploadPhoto:Q},watch:{filterText:function(t){this.$refs.trees.filter(t)}},data:function(){return{showPhotoDialog:!1,editVisible:!1,filterText:"",formLabelWidth:"100px",category:{frozen:1},list:null,choose_list:[],batchArr:[],req:{type:0}}},created:function(){this.getCategoryList()},methods:{renderContent:function(t,e){var i=this,s=e.node;e.data,e.store;return t("div",{class:"custom-tree-node"},[t("img",{attrs:{src:s.data.icon,width:"20"}}),t("span",[s.data.name]),t("span",[1==s.data.type?"文章类型":"视频类型"]),t("div",[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return i.edit(s.data.idx)}}},["修改"]),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return i.deleteOne(s.data.id)}}},["删除"])])])},filterNode:function(t,e){return!t||-1!==e.name.indexOf(t)},handleCheckChange:function(t,e,i){},getCategoryList:function(){var t=this;this.list=null,_t(this.req).then(function(e){t.convertDtoList(e.list),t.list=e.list,t.getChooseList(t.list,0)},function(e){t.list=[],t.$message.error(e.msg)})},convertDtoList:function(t){var e=this;t&&t.forEach(function(t){t.list&&(t.children=t.list,t.list=null,e.convertDtoList(t.children))})},getChooseList:function(t,e){var i=this;if(t&&0!==t.length){if(0===e)this.list=[];else if(2===e)return;e+=1,t.forEach(function(t,s){var o=t.list;t.idx=s,t.tip=2===e?"\r\t\r\t":"",t.frozen=Boolean(t.frozen),t.list=null,i.list.push(t),o&&i.getChooseList(t.list,e)})}},add:function(){this.category={frozen:!0,sort:100,type:1},this.editVisible=!0},edit:function(t){this.editVisible=!0,this.category=this.list[t]},confirmPhoto:function(t){this.category.icon=t[0]},batchDelete:function(){var t=this,e=this.$refs.trees.getCheckedNodes().map(function(t){return t.id});0!==e.length?this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){bt(e).then(function(e){t.$message.success("操作成功"),t.editVisible=!1,t.getCategoryList()},function(e){t.$message.error(e.msg)})}).catch(function(){}):this.$message.error("请至少选择一个分类进行删除！")},deleteOne:function(t){var e=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){bt([t]).then(function(t){e.$message.success("删除成功"),e.editVisible=!1,e.getCategoryList()},function(t){e.$message.error(t.msg)})}).catch(function(){})},save:function(){var t=this;null!=this.category.name&&""!=this.category.name?this.category.name.length>6?this.$message.error("分类名称不能超过5个字"):(""==this.category.sort&&(this.category.sort=100),vt(this.category).then(function(e){t.$message.success("保存成功"),t.editVisible=!1,t.getCategoryList()},function(e){t.$message.error(e.msg)})):this.$message.error("请输入分类名称")}}},kt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("common-template",[i("h1",{staticClass:"content__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),i("div",{staticClass:"content__main-operation",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"operation-left"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.add}},[t._v("新建分类")]),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:t.batchDelete}},[t._v("批量删除")])],1),t._v(" "),i("div",{staticClass:"operation-right"},[i("el-select",{attrs:{size:"small",placeholder:"全部类型"},on:{change:t.getCategoryList},model:{value:t.req.type,callback:function(e){t.$set(t.req,"type",e)},expression:"req.type"}},[i("el-option",{attrs:{value:0,label:"全部类型"}}),t._v(" "),i("el-option",{attrs:{value:1,label:"文章类型"}}),t._v(" "),i("el-option",{attrs:{value:2,label:"视频类型"}})],1),t._v(" "),i("el-input",{attrs:{size:"small",placeholder:"分类名称"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)]),t._v(" "),i("div",{attrs:{slot:"list"},slot:"list"},[i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:!t.list,expression:"!list"}],ref:"trees",staticClass:"filter-tree",staticStyle:{width:"500px"},attrs:{data:t.list,"show-checkbox":"","node-key":"id","default-expand-all":"","expand-on-click-node":!1,"render-content":t.renderContent,"filter-node-method":t.filterNode},on:{"check-change":t.handleCheckChange}})],1)]),t._v(" "),i("el-dialog",{attrs:{title:"分类信息",visible:t.editVisible,width:"40%"},on:{"update:visible":function(e){t.editVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.category,"label-width":t.formLabelWidth}},[i("el-form-item",{attrs:{label:"分类图片"}},[i("ul",{staticClass:"app-image-list"},[t.category.icon?i("li",{staticClass:"image-item",on:{click:function(e){t.showPhotoDialog=!0}}},[i("img",{attrs:{src:t.category.icon,role:"presentation",alt:"",width:"40"}})]):i("li",{staticClass:"el-upload el-upload--picture-card",staticStyle:{width:"40px",height:"40px","line-height":"1"},on:{click:function(e){t.showPhotoDialog=!0}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"20px","margin-top":"10px"}})])])]),t._v(" "),i("el-form-item",{attrs:{label:"分类名称",prop:"name",required:""}},[i("el-input",{attrs:{size:"small"},model:{value:t.category.name,callback:function(e){t.$set(t.category,"name",e)},expression:"category.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"类型"}},[i("div",[i("el-radio-group",{attrs:{disabled:null!=t.category.id},model:{value:t.category.type,callback:function(e){t.$set(t.category,"type",e)},expression:"category.type"}},[i("el-radio",{attrs:{label:1}},[i("span",{staticStyle:{"font-weight":"normal"}},[t._v("文章类型")])]),t._v(" "),i("el-radio",{attrs:{label:2}},[i("span",{staticStyle:{"font-weight":"normal"}},[t._v("视频类型")])])],1)],1)]),t._v(" "),i("el-form-item",{attrs:{label:"排序字段",prop:"sort",required:""}},[i("el-input",{attrs:{size:"small"},model:{value:t.category.sort,callback:function(e){t.$set(t.category,"sort",e)},expression:"category.sort"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("按数值大小升序，越小排在越前")])],1),t._v(" "),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-switch",{attrs:{"active-text":t.category.frozen?"显示":"隐藏"},model:{value:t.category.frozen,callback:function(e){t.$set(t.category,"frozen",e)},expression:"category.frozen"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1),t._v(" "),i("upload-photo",{attrs:{limit:1,action:"change",show:t.showPhotoDialog},on:{"update:show":function(e){t.showPhotoDialog=e},confirm:t.confirmPhoto}})],1)},staticRenderFns:[]};var yt=i("VU/8")(wt,kt,!1,function(t){i("faVD")},null,null).exports,xt=function(){return d.a.post("/tag/list",{})},Ct=function(t){return d.a.post("/tag/save",t)},zt={name:"tag-list",components:{CommonTemplate:S.default},watch:{filterText:function(t){this.$refs.trees.filter(t)}},data:function(){return{editVisible:!1,filterText:"",formLabelWidth:"100px",tag:{name:""},list:null,choose_id_arr:[]}},created:function(){this.getList()},methods:{renderContent:function(t,e){var i=this,s=e.node;e.data,e.store;return t("div",{class:"custom-tree-node"},[t("span",[s.data.name]),t("div",[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return i.edit(s.data.idx)}}},["修改"]),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return i.deleteOne(s.data.idx)}}},["删除"])])])},filterNode:function(t,e){return!t||-1!==e.name.indexOf(t)},getList:function(){var t=this;this.list=null,xt().then(function(e){t.list=e.list,t.list=t.list.map(function(t,e){return{idx:e,id:e+1,name:t}})},function(e){t.list=[],t.$message.error(e.msg)})},save:function(){var t=this;if(null!=this.tag.name&&""!=this.tag.name){var e=this.list.map(function(t){return t.name});this.tag.id||e.push(this.tag.name),Ct(e).then(function(e){t.$message.success("保存成功"),t.editVisible=!1,t.tag={},t.getList()},function(e){t.$message.error(e.msg)})}else this.$message.error("请输入名称")},add:function(){this.editVisible=!0,this.tag={name:""}},edit:function(t){this.editVisible=!0,this.tag=this.list[t]},deleteOne:function(t){var e=this;this.$confirm("删除后无法恢复，是否确认？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.list.splice(t,1);var i=e.list.map(function(t){return t.name});Ct(i).then(function(t){e.$message.success("保存成功"),e.editVisible=!1,e.tag={},e.getList()},function(t){e.$message.error(t.msg)})})}}},$t={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("common-template",[i("h1",{staticClass:"content__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),i("div",{staticClass:"content__main-operation",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"operation-left"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.add}},[t._v("新建标签")])],1),t._v(" "),i("div",{staticClass:"operation-right"},[i("el-input",{attrs:{size:"small",placeholder:"分类名称"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)]),t._v(" "),i("div",{attrs:{slot:"list"},slot:"list"},[i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:!t.list,expression:"!list"}],ref:"trees",staticClass:"filter-tree",staticStyle:{width:"500px"},attrs:{data:t.list,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"render-content":t.renderContent,"filter-node-method":t.filterNode}})],1)]),t._v(" "),i("el-dialog",{attrs:{title:"标签信息",visible:t.editVisible,width:"40%"},on:{"update:visible":function(e){t.editVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.tag,"label-width":t.formLabelWidth}},[i("el-form-item",{attrs:{label:"标签名称",prop:"name",required:""}},[i("el-input",{attrs:{size:"small"},model:{value:t.tag.name,callback:function(e){t.$set(t.tag,"name",e)},expression:"tag.name"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var St={path:"/energy",name:"励志管理",icon:"el-icon-news",component:F,hidden_child:!1,children:[{name:"励志管理",path:"manager",component:V,children:[{name:"励志文章",path:"poster",component:K,meta:{title:"文章列表"}},{name:"励志视频",path:"video",component:ot,meta:{title:"视频列表"}},{exclude:!0,path:":type/add",component:et,meta:{title:"添加信息"}},{exclude:!0,path:":type/edit/:id",component:et,meta:{title:"编辑信息"}},{name:"励志美图",path:"picture",component:gt,meta:{title:"美图列表"}},{name:"分类管理",path:"category",component:yt,meta:{title:"分类列表"}},{name:"热门标签",path:"tag",component:i("VU/8")(zt,$t,!1,function(t){i("WVyz")},null,null).exports,meta:{title:"热门标签"}}],redirect:"/energy/manager/poster"}],redirect:"/energy/manager"},Pt={name:"router",data:function(){return{route:Jt}},components:{SecondRouter:k}},Nt={render:function(){var t=this.$createElement;return(this._self._c||t)("SecondRouter",{attrs:{"route-info":this.route}})},staticRenderFns:[]},Et=i("VU/8")(Pt,Nt,!1,null,null,null).exports,Lt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"setting"}},[e("router-view")],1)},staticRenderFns:[]};var Tt=i("VU/8")({},Lt,!1,function(t){i("lHVt")},null,null).exports,Dt={name:"advert-list",components:{CommonTemplate:S.default,UploadPhoto:Q},data:function(){var t=this;return{showPhotoDialog:!1,loading:!1,editVisible:!1,list:null,advert:{position:2,sort:100,frozen:!0},req:{position:2},page:{pageNo:1,pageSize:20},choose_id_arr:[],rules:{linkman:[{required:!0,message:"请填写客户名称",trigger:"blur"}],linkTel:[{required:!0,message:"请填写客户联系方式",trigger:"blur"}],title:[{required:!0,message:"请填写广告标题",trigger:"blur"}],energy:[{required:!0,message:"请填写可领取的能量",trigger:"blur"}],appid:[{validator:function(e,i,s){1!=t.advert.type||i?s():s(new Error("请填写小程序appid"))},trigger:"blur"}],wxadKey:[{validator:function(e,i,s){2!=t.advert.type||i?s():s(new Error("请填写微信广告主key"))},trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.req.p=this.page.pageNo,this.req.s=this.page.pageSize,ut(this.req).then(function(e){t.list=e.list?e.list:[],t.list.forEach(function(t){t.frozen=Boolean(t.frozen)}),t.page=e.page},function(e){t.$message.error(e.msg)})},reload:function(){this.page.pageNo=1,this.getList()},changePageSize:function(t){this.page.pageNo=1,this.page.pageSize=t,this.list=null,this.getList()},changePageNo:function(t){this.page.pageNo=t,this.list=null,this.getList()},handleSelectionChange:function(t){this.choose_id_arr=t},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection(),this.choose_id_arr=t},handleAdd:function(){this.editVisible=!0,this.advert={position:2,sort:100,frozen:!0,type:1}},handleEdit:function(t){this.editVisible=!0,this.advert=this.list[t]},save:function(){var t=this;this.$refs.EditForm.validate(function(e){e&&(t.loading=!0,dt(t.advert).then(function(e){t.loading=!1,0===e.code?(t.editVisible=!1,t.$message.success("保存成功！"),t.reload()):t.$message.error(e.msg)},function(e){t.loading=!1,t.$message.error(e.msg)}))})},changeStatus:function(t,e){var i=this;mt([t],e?1:0).then(function(t){i.$message.success("操作成功"),i.reload()},function(t){i.$message.error(t.msg)})},handleDelete:function(t){var e=this,i=[t];if(0==t){if(0===this.choose_id_arr.length)return void this.$message.error("请至少选择一项！");i=this.choose_id_arr.map(function(t){return t.id})}this.$confirm("删除后无法恢复，是否确认？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){pt(i).then(function(t){e.$message.success("操作成功"),e.reload()},function(t){e.$message.error(t.msg)})})},confirmPhoto:function(t){this.advert.pic=t[0]}}},Vt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"poster-list"},[i("common-template",[i("h1",{staticClass:"content__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),i("div",{staticClass:"content__main-operation",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"operation-left"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleAdd}},[t._v("新增广告福利")]),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){t.handleDelete(0)}}},[t._v("批量删除")])],1)]),t._v(" "),i("div",{staticClass:"content__main-list",attrs:{slot:"list"},slot:"list"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!t.list,expression:"!list"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{label:"广告信息",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"info-item"},[e.row.pic?i("i",{staticClass:"item__image",style:{backgroundImage:"url("+e.row.pic+")"}}):t._e(),t._v(" "),i("div",{staticClass:"item__info"},[i("p",{staticClass:"item__info-main",staticStyle:{"font-weight":"500"}},[t._v(t._s(e.row.title)+" "),i("el-tag",{attrs:{size:"mini",type:1==e.row.type?"warning":"danger"}},[t._v(t._s(1==e.row.type?"自营":"微信"))])],1),t._v(" "),i("p",{staticClass:"item__info-sub"},[t._v(t._s(e.row.linkman))]),t._v(" "),i("p",{staticClass:"item__info-sub"},[t._v(t._s(e.row.linkTel))])])])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"广告跳转",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.type?i("div",[i("p",[t._v("跳转到小程序")]),t._v(" "),i("p",[t._v(t._s(e.row.appid))]),t._v(" "),i("p",[t._v(t._s(e.row.appPage))])]):t._e(),t._v(" "),2==e.row.type?i("div",[i("p",[t._v("对接微信广告")]),t._v(" "),i("p",[t._v(t._s(e.row.wxadKey))])]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"100",label:"可领取能量",align:"center",prop:"energy"}}),t._v(" "),i("el-table-column",{attrs:{width:"80",label:"排序",align:"center",prop:"sort"}}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:"发布状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-switch",{attrs:{"active-text":e.row.frozen?"已发布":"隐藏中"},on:{change:function(i){t.changeStatus(e.row.id,e.row.frozen)}},model:{value:e.row.frozen,callback:function(i){t.$set(e.row,"frozen",i)},expression:"scope.row.frozen"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:"创建时间",align:"center",prop:"createTime"}}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){t.handleEdit(e.$index)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.list&&t.list.length>0?i("div",{staticStyle:{"text-align":"center","margin-top":"60px"}},[i("el-pagination",{attrs:{"page-sizes":[10,20,30,40,50],"page-size":t.page.pageSize,"current-page":t.page.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:t.page.totalRows},on:{"size-change":t.changePageSize,"current-change":t.changePageNo}})],1):t._e()],1)]),t._v(" "),i("el-dialog",{attrs:{title:"广告福利",visible:t.editVisible},on:{"update:visible":function(e){t.editVisible=e}}},[i("el-form",{ref:"EditForm",attrs:{model:t.advert,rules:t.rules,"label-width":"130px"}},[i("el-form-item",{attrs:{label:"图片",prop:"pic"}},[i("ul",{staticClass:"app-image-list"},[t.advert.pic?i("li",{staticClass:"image-item",on:{click:function(e){t.showPhotoDialog=!0}}},[i("img",{attrs:{src:t.advert.pic,role:"presentation",alt:"",width:"50"}})]):i("li",{staticClass:"el-upload el-upload--advert-card",staticStyle:{width:"80px",height:"80px","line-height":"1"},on:{click:function(e){t.showPhotoDialog=!0}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"40px","margin-top":"20px"}})])])]),t._v(" "),i("el-form-item",{attrs:{label:"客户名称",prop:"linkman"}},[i("el-input",{model:{value:t.advert.linkman,callback:function(e){t.$set(t.advert,"linkman","string"==typeof e?e.trim():e)},expression:"advert.linkman"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"联系方式",prop:"linkTel"}},[i("el-input",{model:{value:t.advert.linkTel,callback:function(e){t.$set(t.advert,"linkTel","string"==typeof e?e.trim():e)},expression:"advert.linkTel"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"广告标题",prop:"title"}},[i("el-input",{model:{value:t.advert.title,callback:function(e){t.$set(t.advert,"title","string"==typeof e?e.trim():e)},expression:"advert.title"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("可以用于备注说明")])],1),t._v(" "),i("el-form-item",{attrs:{label:"广告类型",prop:"frozen"}},[i("el-radio-group",{model:{value:t.advert.type,callback:function(e){t.$set(t.advert,"type",e)},expression:"advert.type"}},[i("el-radio",{attrs:{label:1}},[i("span",{staticStyle:{"font-weight":"normal"}},[t._v("自营")])]),t._v(" "),i("el-radio",{attrs:{label:2}},[i("span",{staticStyle:{"font-weight":"normal"}},[t._v("微信")])])],1)],1),t._v(" "),1==t.advert.type?[i("el-form-item",{attrs:{label:"小程序appid",prop:"appid"}},[i("el-input",{model:{value:t.advert.appid,callback:function(e){t.$set(t.advert,"appid","string"==typeof e?e.trim():e)},expression:"advert.appid"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"小程序页面",prop:"appPage"}},[i("el-input",{model:{value:t.advert.appPage,callback:function(e){t.$set(t.advert,"appPage","string"==typeof e?e.trim():e)},expression:"advert.appPage"}})],1)]:t._e(),t._v(" "),2==t.advert.type?[i("el-form-item",{attrs:{label:"微信广告主key",prop:"wxadKey"}},[i("el-input",{model:{value:t.advert.wxadKey,callback:function(e){t.$set(t.advert,"wxadKey","string"==typeof e?e.trim():e)},expression:"advert.wxadKey"}})],1)]:t._e(),t._v(" "),i("el-form-item",{attrs:{label:"可领取的能量值",prop:"energy"}},[i("el-input",{attrs:{size:"small"},model:{value:t.advert.energy,callback:function(e){t.$set(t.advert,"energy",e)},expression:"advert.energy"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("同个广告，每个用户只能领取一次？")])],1),t._v(" "),i("el-form-item",{attrs:{label:"排序字段",prop:"sort"}},[i("el-input",{attrs:{size:"small"},model:{value:t.advert.sort,callback:function(e){t.$set(t.advert,"sort",e)},expression:"advert.sort"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("按数值大小升序，越小排在越前")])],1),t._v(" "),i("el-form-item",{attrs:{label:"显示状态",prop:"frozen"}},[i("el-switch",{attrs:{"active-text":t.advert.frozen?"显示中":"已冻结"},model:{value:t.advert.frozen,callback:function(e){t.$set(t.advert,"frozen",e)},expression:"advert.frozen"}})],1)],2),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading,size:"mini"},on:{click:function(e){t.save()}}},[t._v("确 定")])],1)],1),t._v(" "),i("upload-photo",{attrs:{limit:1,action:"change",show:t.showPhotoDialog},on:{"update:show":function(e){t.showPhotoDialog=e},confirm:t.confirmPhoto}})],1)},staticRenderFns:[]};var qt=i("VU/8")(Dt,Vt,!1,function(t){i("yGq3")},null,null).exports,Ft={name:"advert-list",components:{CommonTemplate:S.default,UploadPhoto:Q},data:function(){return{showPhotoDialog:!1,loading:!1,editVisible:!1,list:null,advert:{position:1,sort:100,frozen:!0,type:1},req:{position:1},page:{pageNo:1,pageSize:20},choose_id_arr:[],rules:{linkman:[{required:!0,message:"请填写客户名称",trigger:"blur"}],linkTel:[{required:!0,message:"请填写客户联系方式",trigger:"blur"}],title:[{required:!0,message:"请填写广告标题",trigger:"blur"}],energy:[{required:!0,message:"请填写可领取的能量",trigger:"blur"}],appid:[{required:!0,message:"请填写小程序appid",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.req.p=this.page.pageNo,this.req.s=this.page.pageSize,ut(this.req).then(function(e){t.list=e.list?e.list:[],t.list.forEach(function(t){t.frozen=Boolean(t.frozen)}),t.page=e.page},function(e){t.$message.error(e.msg)})},reload:function(){this.page.pageNo=1,this.getList()},changePageSize:function(t){this.page.pageNo=1,this.page.pageSize=t,this.list=null,this.getList()},changePageNo:function(t){this.page.pageNo=t,this.list=null,this.getList()},handleSelectionChange:function(t){this.choose_id_arr=t},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection(),this.choose_id_arr=t},handleAdd:function(){this.editVisible=!0,this.advert={position:1,sort:100,frozen:!0,type:1}},handleEdit:function(t){this.editVisible=!0,this.advert=this.list[t]},save:function(){var t=this;this.$refs.EditForm.validate(function(e){e&&(t.loading=!0,dt(t.advert).then(function(e){t.loading=!1,0===e.code?(t.editVisible=!1,t.$message.success("保存成功！"),t.reload()):t.$message.error(e.msg)},function(e){t.loading=!1,t.$message.error(e.msg)}))})},changeStatus:function(t,e){var i=this;mt([t],e?1:0).then(function(t){i.$message.success("操作成功"),i.reload()},function(t){i.$message.error(t.msg)})},handleDelete:function(t){var e=this,i=[t];if(0==t){if(0===this.choose_id_arr.length)return void this.$message.error("请至少选择一项！");i=this.choose_id_arr.map(function(t){return t.id})}this.$confirm("删除后无法恢复，是否确认？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){pt(i).then(function(t){e.$message.success("操作成功"),e.reload()},function(t){e.$message.error(t.msg)})})},confirmPhoto:function(t){this.advert.pic=t[0]}}},Ut={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"poster-list"},[i("common-template",[i("h1",{staticClass:"content__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),i("div",{staticClass:"content__main-operation",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"operation-left"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleAdd}},[t._v("新增广告")]),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){t.handleDelete(0)}}},[t._v("批量删除")])],1)]),t._v(" "),i("div",{staticClass:"content__main-list",attrs:{slot:"list"},slot:"list"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!t.list,expression:"!list"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{label:"广告信息",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"info-item"},[e.row.pic?i("i",{staticClass:"item__image",style:{backgroundImage:"url("+e.row.pic+")"}}):t._e(),t._v(" "),i("div",{staticClass:"item__info"},[i("p",{staticClass:"item__info-main",staticStyle:{"font-weight":"500"}},[t._v(t._s(e.row.title))]),t._v(" "),i("p",{staticClass:"item__info-sub"},[t._v(t._s(e.row.linkman))]),t._v(" "),i("p",{staticClass:"item__info-sub"},[t._v(t._s(e.row.linkTel))])])])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"广告跳转",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[i("p",[t._v("跳转到小程序")]),t._v(" "),i("p",[t._v(t._s(e.row.appid))]),t._v(" "),i("p",[t._v(t._s(e.row.appPage))])])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"100",label:"可领取能量",align:"center",prop:"energy"}}),t._v(" "),i("el-table-column",{attrs:{width:"80",label:"排序",align:"center",prop:"sort"}}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:"发布状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-switch",{attrs:{"active-text":e.row.frozen?"已发布":"隐藏中"},on:{change:function(i){t.changeStatus(e.row.id,e.row.frozen)}},model:{value:e.row.frozen,callback:function(i){t.$set(e.row,"frozen",i)},expression:"scope.row.frozen"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:"创建时间",align:"center",prop:"createTime"}}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){t.handleEdit(e.$index)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.list&&t.list.length>0?i("div",{staticStyle:{"text-align":"center","margin-top":"60px"}},[i("el-pagination",{attrs:{"page-sizes":[10,20,30,40,50],"page-size":t.page.pageSize,"current-page":t.page.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:t.page.totalRows},on:{"size-change":t.changePageSize,"current-change":t.changePageNo}})],1):t._e()],1)]),t._v(" "),i("el-dialog",{attrs:{title:"广告福利",visible:t.editVisible},on:{"update:visible":function(e){t.editVisible=e}}},[i("el-form",{ref:"EditForm",attrs:{model:t.advert,rules:t.rules,"label-width":"130px"}},[i("el-form-item",{attrs:{label:"图片",prop:"pic"}},[i("ul",{staticClass:"app-image-list"},[t.advert.pic?i("li",{staticClass:"image-item",on:{click:function(e){t.showPhotoDialog=!0}}},[i("img",{attrs:{src:t.advert.pic,role:"presentation",alt:"",width:"50"}})]):i("li",{staticClass:"el-upload el-upload--advert-card",staticStyle:{width:"80px",height:"80px","line-height":"1"},on:{click:function(e){t.showPhotoDialog=!0}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"40px","margin-top":"20px"}})])])]),t._v(" "),i("el-form-item",{attrs:{label:"客户名称",prop:"linkman"}},[i("el-input",{model:{value:t.advert.linkman,callback:function(e){t.$set(t.advert,"linkman","string"==typeof e?e.trim():e)},expression:"advert.linkman"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"联系方式",prop:"linkTel"}},[i("el-input",{model:{value:t.advert.linkTel,callback:function(e){t.$set(t.advert,"linkTel","string"==typeof e?e.trim():e)},expression:"advert.linkTel"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"广告标题",prop:"title"}},[i("el-input",{model:{value:t.advert.title,callback:function(e){t.$set(t.advert,"title","string"==typeof e?e.trim():e)},expression:"advert.title"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("可以用于备注说明")])],1),t._v(" "),i("el-form-item",{attrs:{label:"小程序appid",prop:"appid"}},[i("el-input",{model:{value:t.advert.appid,callback:function(e){t.$set(t.advert,"appid","string"==typeof e?e.trim():e)},expression:"advert.appid"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"小程序页面",prop:"appPage"}},[i("el-input",{model:{value:t.advert.appPage,callback:function(e){t.$set(t.advert,"appPage","string"==typeof e?e.trim():e)},expression:"advert.appPage"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"可领取的能量值",prop:"energy"}},[i("el-input",{attrs:{size:"small"},model:{value:t.advert.energy,callback:function(e){t.$set(t.advert,"energy",e)},expression:"advert.energy"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("同个广告，每个用户只能领取一次？")])],1),t._v(" "),i("el-form-item",{attrs:{label:"排序字段",prop:"sort"}},[i("el-input",{attrs:{size:"small"},model:{value:t.advert.sort,callback:function(e){t.$set(t.advert,"sort",e)},expression:"advert.sort"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("按数值大小升序，越小排在越前")])],1),t._v(" "),i("el-form-item",{attrs:{label:"显示状态",prop:"frozen"}},[i("el-switch",{attrs:{"active-text":t.advert.frozen?"显示中":"已冻结"},model:{value:t.advert.frozen,callback:function(e){t.$set(t.advert,"frozen",e)},expression:"advert.frozen"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading,size:"mini"},on:{click:function(e){t.save()}}},[t._v("确 定")])],1)],1),t._v(" "),i("upload-photo",{attrs:{limit:1,action:"change",show:t.showPhotoDialog},on:{"update:show":function(e){t.showPhotoDialog=e},confirm:t.confirmPhoto}})],1)},staticRenderFns:[]};var At=i("VU/8")(Ft,Ut,!1,function(t){i("A+kf")},null,null).exports,Rt=function(t){return t.type=1,d.a.post("/docs/list",t)},Bt=function(t){return t.type=2,d.a.post("/docs/list",t)},It=function(t){return t.type=1,d.a.post("/docs/save",t)},jt=function(t){return t.type=2,d.a.post("/docs/save",t)},Ot=function(t){return d.a.post("/docs/delete",t)},Wt=function(t,e){return d.a.post("/docs/publish/"+e,t)},Ht={name:"docs-list",components:{CommonTemplate:S.default},data:function(){return{loading:!1,editVisible:!1,docs:{frozen:!0,sort:100},list:null,page:{pageNo:1,pageSize:20},choose_id_arr:[],rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],brief:[{required:!0,message:"请输入描述",trigger:"blur"}],sort:[{required:!0,message:"请输入排序",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var t=this,e={p:this.page.pageNo,s:this.page.pageSize};Rt(e).then(function(e){t.list=e.list,t.list.forEach(function(t){t.frozen=Boolean(t.frozen)}),t.page=e.page},function(e){t.$message.error(e.msg)})},save:function(){var t=this;this.$refs.EditForm.validate(function(e){e&&(t.loading=!0,It(t.docs).then(function(e){t.loading=!1,0===e.code?(t.editVisible=!1,t.$message.success("保存成功！"),t.reload()):t.$message.error(e.msg)},function(e){t.loading=!1,t.$message.error(e.msg)}))})},reload:function(){this.list=null,this.page.pageNo=1,this.getList()},handleSelectionChange:function(t){this.choose_id_arr=t},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection(),this.choose_id_arr=t},changePageSize:function(t){this.page.pageNo=1,this.page.pageSize=t,this.list=null,this.getList()},changePageNo:function(t){this.page.pageNo=t,this.list=null,this.getList()},handleAdd:function(){this.editVisible=!0,this.docs={frozen:!0,sort:100}},handleEdit:function(t){this.editVisible=!0,this.docs=this.list[t]},changeStatus:function(t,e){var i=this;Wt([t],e?1:0).then(function(t){i.$message.success("操作成功"),i.reload()},function(t){i.$message.error(t.msg)})},handleDelete:function(t){var e=this,i=[t];if(0==t){if(0===this.choose_id_arr.length)return void this.$message.error("请至少选择一项！");i=this.choose_id_arr.map(function(t){return t.id})}this.$confirm("删除后无法恢复，是否确认？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Ot(i).then(function(t){e.$message.success("操作成功"),e.reload()},function(t){e.$message.error(t.msg)})})}}},Kt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"member-list"},[i("common-template",[i("h1",{staticClass:"content__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),i("div",{staticClass:"content__main-operation",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"operation-left"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleAdd}},[t._v("新增攻略")]),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){t.handleDelete(0)}}},[t._v("批量删除")])],1)]),t._v(" "),i("div",{staticClass:"content__main-list",attrs:{slot:"list"},slot:"list"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!t.list,expression:"!list"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{label:"标题",align:"left",prop:"title"}}),t._v(" "),i("el-table-column",{attrs:{label:"说明",align:"left",prop:"brief"}}),t._v(" "),i("el-table-column",{attrs:{label:"排序",width:"50",align:"center",prop:"sort"}}),t._v(" "),i("el-table-column",{attrs:{width:"150",label:"显示状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-switch",{attrs:{"active-text":e.row.frozen?"显示中":"已冻结"},on:{change:function(i){t.changeStatus(e.row.id,e.row.frozen)}},model:{value:e.row.frozen,callback:function(i){t.$set(e.row,"frozen",i)},expression:"scope.row.frozen"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"150",label:"创建时间",align:"center",prop:"createTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){t.handleEdit(e.$index)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.list&&t.list.length>0?i("div",{staticStyle:{"text-align":"center","margin-top":"60px"}},[i("el-pagination",{attrs:{"page-sizes":[10,20,30,40,50],"page-size":t.page.pageSize,"current-page":t.page.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:t.page.totalRows},on:{"size-change":t.changePageSize,"current-change":t.changePageNo}})],1):t._e()],1)]),t._v(" "),i("el-dialog",{attrs:{title:"能量攻略",visible:t.editVisible},on:{"update:visible":function(e){t.editVisible=e}}},[i("el-form",{ref:"EditForm",attrs:{model:t.docs,rules:t.rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"标题",prop:"title"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"标题"},model:{value:t.docs.title,callback:function(e){t.$set(t.docs,"title","string"==typeof e?e.trim():e)},expression:"docs.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"描述",prop:"brief"}},[i("el-input",{attrs:{type:"textarea",rows:5,"auto-complete":"off",placeholder:"说明"},model:{value:t.docs.brief,callback:function(e){t.$set(t.docs,"brief","string"==typeof e?e.trim():e)},expression:"docs.brief"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"排序字段",prop:"sort"}},[i("el-input",{attrs:{size:"small"},model:{value:t.docs.sort,callback:function(e){t.$set(t.docs,"sort",e)},expression:"docs.sort"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("按数值大小升序，越小排在越前")])],1),t._v(" "),i("el-form-item",{attrs:{label:"显示状态",prop:"frozen"}},[i("el-switch",{attrs:{"active-text":t.docs.frozen?"显示中":"已冻结"},model:{value:t.docs.frozen,callback:function(e){t.$set(t.docs,"frozen",e)},expression:"docs.frozen"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading,size:"mini"},on:{click:function(e){t.save()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Mt=i("VU/8")(Ht,Kt,!1,function(t){i("z74+")},null,null).exports,Gt={name:"docs-list",components:{CommonTemplate:S.default},data:function(){return{loading:!1,editVisible:!1,docs:{frozen:!0,sort:100},list:null,page:{pageNo:1,pageSize:20},choose_id_arr:[],rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],brief:[{required:!0,message:"请输入描述",trigger:"blur"}],sort:[{required:!0,message:"请输入排序",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var t=this,e={p:this.page.pageNo,s:this.page.pageSize};Bt(e).then(function(e){t.list=e.list,t.list.forEach(function(t){t.frozen=Boolean(t.frozen)}),t.page=e.page},function(e){t.$message.error(e.msg)})},save:function(){var t=this;this.$refs.EditForm.validate(function(e){e&&(t.loading=!0,jt(t.docs).then(function(e){t.loading=!1,0===e.code?(t.editVisible=!1,t.$message.success("保存成功！"),t.reload()):t.$message.error(e.msg)},function(e){t.loading=!1,t.$message.error(e.msg)}))})},reload:function(){this.list=null,this.page.pageNo=1,this.getList()},handleSelectionChange:function(t){this.choose_id_arr=t},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection(),this.choose_id_arr=t},changePageSize:function(t){this.page.pageNo=1,this.page.pageSize=t,this.list=null,this.getList()},changePageNo:function(t){this.page.pageNo=t,this.list=null,this.getList()},handleAdd:function(){this.editVisible=!0,this.docs={frozen:!0,sort:100}},handleEdit:function(t){this.editVisible=!0,this.docs=this.list[t]},changeStatus:function(t,e){var i=this;Wt([t],e?1:0).then(function(t){i.$message.success("操作成功"),i.reload()},function(t){i.$message.error(t.msg)})},handleDelete:function(t){var e=this,i=[t];if(0==t){if(0===this.choose_id_arr.length)return void this.$message.error("请至少选择一项！");this.choose_id_arr.map(function(t){return t.id})}this.$confirm("删除后无法恢复，是否确认？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Ot(i).then(function(t){e.$message.success("操作成功"),e.reload()},function(t){e.$message.error(t.msg)})}).catch(function(){})}}},Zt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"member-list"},[i("common-template",[i("h1",{staticClass:"content__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),i("div",{staticClass:"content__main-operation",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"operation-left"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleAdd}},[t._v("新增常见问题")]),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){t.handleDelete(0)}}},[t._v("批量删除")])],1)]),t._v(" "),i("div",{staticClass:"content__main-list",attrs:{slot:"list"},slot:"list"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!t.list,expression:"!list"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{label:"问题",align:"left",prop:"title"}}),t._v(" "),i("el-table-column",{attrs:{label:"回答",align:"left",prop:"brief"}}),t._v(" "),i("el-table-column",{attrs:{label:"排序",width:"50",align:"center",prop:"sort"}}),t._v(" "),i("el-table-column",{attrs:{width:"150",label:"显示状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-switch",{attrs:{"active-text":e.row.frozen?"显示中":"已冻结"},on:{change:function(i){t.changeStatus(e.row.id,e.row.frozen)}},model:{value:e.row.frozen,callback:function(i){t.$set(e.row,"frozen",i)},expression:"scope.row.frozen"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:"创建时间",align:"center",prop:"createTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){t.handleEdit(e.$index)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.list&&t.list.length>0?i("div",{staticStyle:{"text-align":"center","margin-top":"60px"}},[i("el-pagination",{attrs:{"page-sizes":[10,20,30,40,50],"page-size":t.page.pageSize,"current-page":t.page.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:t.page.totalRows},on:{"size-change":t.changePageSize,"current-change":t.changePageNo}})],1):t._e()],1)]),t._v(" "),i("el-dialog",{attrs:{title:"常见问题",visible:t.editVisible},on:{"update:visible":function(e){t.editVisible=e}}},[i("el-form",{ref:"EditForm",attrs:{model:t.docs,rules:t.rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"问题",prop:"title"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"标题"},model:{value:t.docs.title,callback:function(e){t.$set(t.docs,"title","string"==typeof e?e.trim():e)},expression:"docs.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"回答",prop:"brief"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"说明"},model:{value:t.docs.brief,callback:function(e){t.$set(t.docs,"brief","string"==typeof e?e.trim():e)},expression:"docs.brief"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"排序字段",prop:"sort"}},[i("el-input",{attrs:{size:"small"},model:{value:t.docs.sort,callback:function(e){t.$set(t.docs,"sort",e)},expression:"docs.sort"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("按数值大小升序，越小排在越前")])],1),t._v(" "),i("el-form-item",{attrs:{label:"显示状态",prop:"frozen"}},[i("el-switch",{attrs:{"active-text":t.docs.frozen?"显示中":"已冻结"},model:{value:t.docs.frozen,callback:function(e){t.$set(t.docs,"frozen",e)},expression:"docs.frozen"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading,size:"mini"},on:{click:function(e){t.save()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Jt={path:"/setting",name:"系统设置",icon:"el-icon-setting",component:Tt,hidden_child:!1,children:[{name:"系统设置",path:"manager",component:Et,children:[{path:"advert",component:qt,name:"广告福利",meta:{title:"广告福利"}},{path:"menuAdvert",component:At,name:"菜单广告",meta:{title:"菜单广告"}},{path:"strategy",component:Mt,name:"能量攻略",meta:{title:"能量攻略"}},{path:"question",component:i("VU/8")(Gt,Zt,!1,function(t){i("rT4t")},null,null).exports,name:"常见问题",meta:{title:"常见问题"}}],redirect:"/setting/manager/advert"}],redirect:"/setting/manager"},Yt={name:"router",data:function(){return{route:De}},components:{SecondRouter:k}},Qt={render:function(){var t=this.$createElement;return(this._self._c||t)("SecondRouter",{attrs:{"route-info":this.route}})},staticRenderFns:[]},Xt=i("VU/8")(Yt,Qt,!1,null,null,null).exports,te={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"store"}},[e("router-view")],1)},staticRenderFns:[]};var ee=i("VU/8")({},te,!1,function(t){i("zZ0s")},null,null).exports,ie=function(t){return d.a.post("/goods/list",t)},se=function(t){return d.a.post("/goods/info/"+t,{})},oe=function(t){return d.a.post("/goods/save",t)},ae=function(t){return d.a.post("/goods/delete",t)},ne=function(t,e){return 1===e?d.a.post("/goods/batchPublish",t):0===e?d.a.post("/goods/batchFrozen",t):void 0},le=function(t){return d.a.post("/files/upload",t)},re={name:"goods-list",components:{CommonTemplate:S.default},data:function(){return{list:null,req:{type:1},page:{pageNo:1,pageSize:20},choose_id_arr:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.req.p=this.page.pageNo,this.req.s=this.page.pageSize,ie(this.req).then(function(e){t.list=e.list,t.list.forEach(function(t){t.frozen=Boolean(t.frozen)}),t.page=e.page},function(e){t.$message.error(e.msg)})},reload:function(){this.page.pageNo=1,this.getList()},changePageSize:function(t){this.page.pageNo=1,this.page.pageSize=t,this.list=null,this.getList()},changePageNo:function(t){this.page.pageNo=t,this.list=null,this.getList()},handleSelectionChange:function(t){this.choose_id_arr=t},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection(),this.choose_id_arr=t},handleEdit:function(t){this.$router.push({path:"/store/manager/goods/edit/"+t})},changeStatus:function(t,e){var i=this;ne([t],e?1:0).then(function(t){i.$message.success("操作成功"),i.reload()},function(t){i.$message.error(t.msg)})},batchPublish:function(t){var e=this;if(0!==this.choose_id_arr.length){var i=this.choose_id_arr.map(function(t){return t.id});this.$confirm("确认"+(t?"上架":"下架")+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){ne(i,t?1:0).then(function(t){e.$message.success("操作成功"),e.reload()},function(t){e.$message.error(t.msg)})}).catch(function(){})}else this.$message.error("请至少选择一个商品！")},handleDelete:function(t){var e=this,i=[t];if(0==t){if(0===this.choose_id_arr.length)return void this.$message.error("请至少选择一项！");i=this.choose_id_arr.map(function(t){return t.id})}this.$confirm("删除后无法恢复，是否确认？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){ae(i).then(function(t){e.$message.success("操作成功"),e.reload()},function(t){e.$message.error(t.msg)})})}}},ce={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"poster-list"},[i("common-template",[i("h1",{staticClass:"content__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),i("div",{staticClass:"content__main-operation",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"operation-left"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.$router.push("/store/manager/goods/add")}}},[t._v("新增商品")]),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){t.batchPublish(1)}}},[t._v("批量上架")]),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){t.batchPublish(0)}}},[t._v("批量下架")]),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){t.handleDelete(0)}}},[t._v("批量删除")])],1),t._v(" "),i("div",{staticClass:"operation-right"},[i("el-input",{attrs:{size:"small",placeholder:"请输入内容"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.reload(e):null}},model:{value:t.req.keywords,callback:function(e){t.$set(t.req,"keywords",e)},expression:"req.keywords"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){t.reload()}},slot:"append"})],1)],1)]),t._v(" "),i("div",{staticClass:"content__main-list",attrs:{slot:"list"},slot:"list"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!t.list,expression:"!list"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{"min-width":"250",label:"商品信息",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"info-item"},[i("i",{staticClass:"item__image",style:{backgroundImage:"url("+e.row.thumb+")"}}),t._v(" "),i("div",{staticClass:"item__info"},[i("p",{staticClass:"item__info-main",staticStyle:{"font-weight":"500"}},[t._v(t._s(e.row.name))])])])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"能量",align:"center",prop:"energy"}}),t._v(" "),i("el-table-column",{attrs:{label:"库存",align:"center",prop:"stock"}}),t._v(" "),i("el-table-column",{attrs:{label:"排序",align:"center",prop:"sort"}}),t._v(" "),i("el-table-column",{attrs:{width:"150",label:"上架状态",align:"center",prop:"createTime"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-switch",{attrs:{"active-text":e.row.frozen?"已上架":"已下架"},on:{change:function(i){t.changeStatus(e.row.id,e.row.frozen)}},model:{value:e.row.frozen,callback:function(i){t.$set(e.row,"frozen",i)},expression:"scope.row.frozen"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"100",label:"创建时间",align:"center",prop:"createTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){t.handleEdit(e.row.id)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.list&&t.list.length>0?i("div",{staticStyle:{"text-align":"center","margin-top":"60px"}},[i("el-pagination",{attrs:{"page-sizes":[10,20,30,40,50],"page-size":t.page.pageSize,"current-page":t.page.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:t.page.totalRows},on:{"size-change":t.changePageSize,"current-change":t.changePageNo}})],1):t._e()],1)])],1)},staticRenderFns:[]};var ue=i("VU/8")(re,ce,!1,function(t){i("kyaf")},null,null).exports,de=i("BO1k"),pe=i.n(de),me={name:"xs-sku-table",props:{update:{type:Boolean,default:!1}},methods:{onUpdate:function(t){this.$emit("update",t)}}},he={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"xs-sku-table"},[i("thead",[t._t("head")],2),t._v(" "),t.update?[i("tbody",{directives:[{name:"sortable",rawName:"v-sortable",value:{onUpdate:t.onUpdate},expression:"{onUpdate: onUpdate}"}]},[t._t("body")],2)]:[i("tbody",[t._t("body")],2)],t._v(" "),i("tfoot",[t._t("foot")],2)],2)},staticRenderFns:[]};var fe=i("VU/8")(me,he,!1,function(t){i("V8gb")},"data-v-77df6fe8",null).exports,ge=i("woOf"),_e=i.n(ge),ve=i("lHA8"),be=i.n(ve),we=i("c/Tr"),ke=i.n(we),ye={name:"xs-sku",components:{UploadPhoto:Q},props:{showAttrBtn:{type:Boolean,default:!0},sku_group_list_prop:{type:Array,default:[]}},data:function(){return{showPhotoDialog:!1,sku_titles:["颜色","尺寸","尺码","规格","款式","净含量","种类"],sku_title:"",sku_group_list:[],group_primary_key:0,drop_down_left:0,drop_down_top:0,sel_sku_group_index:0,focusSearch:0,sku_pic_maps:{},current_upload_sub_item_index:null,current_upload_sub_item_id:-1,photo_action:"add",need_reset:!1,temp_sku_input_name:null,is_show_ui_popover:!1,ui_popover_left:0,ui_popover_top:0,ui_popover_width:200,adding_of_sub_name:"",temp_of_sub_sku_items:[],add_sub_of_sku_group:null,focusPopover:!1,is_show_ui_edit_popover:!1,ui_popover_edit_left:0,ui_popover_edit_top:0,ui_popover_edit_width:200,temp_edit_name:null,temp_edit_index_path:null}},methods:{addGroupList:function(){var t=this,e={name:null,add_img:!1,show_drop_down:!1,show_ui_popover:!1,id:this.group_primary_key,attr_temps:[],attrs:[]};this.sku_group_list.push(e),this.group_primary_key++,setTimeout(function(){t.showSkuTitleDrop({currentTarget:document.getElementById("auto_id"+e.id)})},1)},showSkuTitleDrop:function(t){if(this.showAttrBtn){var e=t.currentTarget,i=e.parentNode,s=e.getBoundingClientRect();this.drop_down_left=e.offsetLeft+i.offsetLeft,this.drop_down_top=s.height+e.offsetTop+i.offsetTop;var o=parseInt(e.getAttribute("data-index"));this.sel_sku_group_index=o,this.sku_group_list[o].show_drop_down=!0,this.focusSearch=!0}},closeSkuTitleDrop:function(){this.focusSearch=!1,this.sku_group_list[this.sel_sku_group_index].show_drop_down=!1},skuTitleDidClick:function(t){this.temp_sku_input_name=null;var e=this.sku_group_list[this.sel_sku_group_index];this.sku_group_list.find(function(e){return e.name===t})?this.$message.error("已经添加了相同的规格名"):(e.name=t,e.show_drop_down=!1,this.focusSearch=!1)},showUIPopover:function(t){this.closeAllPopover();var e=.5*(this.ui_popover_width+40);this.is_show_ui_popover=!0;var i=t.currentTarget,s=i.parentNode,o=i.getBoundingClientRect();this.ui_popover_left=i.offsetLeft+.5*o.width-e,this.ui_popover_top=o.height+s.offsetTop+10;var a=i.getAttribute("data-index");this.add_sub_of_sku_group=this.sku_group_list[a],this.focusPopover=!0},addSubSkuOf:function(){null!==this.adding_of_sub_name&&0!==this.adding_of_sub_name.length&&(-1===this.temp_of_sub_sku_items.indexOf(this.adding_of_sub_name)?this.temp_of_sub_sku_items.push(this.adding_of_sub_name):this.$message.error("已经添加了相同的规格名"),this.adding_of_sub_name=null,this.focusPopover=!0)},deleteSku:function(t){this.sku_group_list.splice(t,1),this.$emit("update",{need_clear:!0,sku_group_list:this.sku_group_list})},deleteSubSkuOf:function(t){this.temp_of_sub_sku_items.splice(t,1)},confirmSubSku:function(){var t=this;this.add_sub_of_sku_group.attr_temps=ke()(new be.a(this.add_sub_of_sku_group.attr_temps.concat(this.temp_of_sub_sku_items)));var e=this.add_sub_of_sku_group.attr_temps.map(function(e){return{name:e,pic:t.sku_pic_maps[e]?t.sku_pic_maps[e]:""}});this.add_sub_of_sku_group.attrs=e,this.is_show_ui_popover=!1,this.temp_of_sub_sku_items=[],this.$emit("update",{sku_group_list:this.sku_group_list})},skuNameDidEdit:function(t,e){if(this.showAttrBtn){this.closeAllPopover();var i=.5*(this.ui_popover_edit_width+40),s=event.currentTarget,o=s.parentNode,a=s.getBoundingClientRect();this.ui_popover_edit_left=s.offsetLeft+.5*a.width-i,this.ui_popover_edit_top=a.height+o.offsetTop+20,this.is_show_ui_edit_popover=!0,this.temp_edit_name=this.sku_group_list[t].attr_temps[e],this.temp_edit_index_path={i:t,j:e}}},skuNameDidDelete:function(t,e){delete this.sku_pic_maps[this.sku_group_list[t].attr_temps[e]],this.sku_group_list[t].attr_temps.splice(e,1),this.sku_group_list[t].attrs.splice(e,1),this.closeAllPopover(),this.$emit("update",{sku_group_list:this.sku_group_list})},confirmSubSkuDidEdit:function(){var t=this.temp_edit_index_path.i,e=this.temp_edit_index_path.j;this.sku_group_list[t].attr_temps[e]=this.temp_edit_name,this.sku_group_list[t].attrs[e].name=this.temp_edit_name,this.$emit("update",{sku_group_list:this.sku_group_list}),this.closeAllPopover()},uploadDidClick:function(t){this.photo_action="add",this.showPhotoDialog=!0,this.current_upload_sub_item_index=t},replacePhoto:function(t){this.photo_action="change",this.showPhotoDialog=!0,this.current_upload_sub_item_index=t},deletePhoto:function(t){this.sku_group_list[0].attrs[t].pic=null,this.need_reset=!0},closeAllPopover:function(){this.is_show_ui_edit_popover=!1,this.is_show_ui_popover=!1},confirmPhoto:function(t){null!==this.current_upload_sub_item_index?(this.sku_group_list[0].attrs[this.current_upload_sub_item_index].pic=t[0],this.sku_pic_maps[this.sku_group_list[0].attr_temps[this.current_upload_sub_item_index]]=t[0],this.current_upload_sub_item_index=null):this.$message.error("请选择要上传图片的规格")},getScrollTop:function(){var t=0;return document.documentElement&&document.documentElement.scrollTop?t=document.documentElement.scrollTop:document.body&&(t=document.body.scrollTop),t},getScrollLeft:function(){var t=0;return document.documentElement&&document.documentElement.scrollLeft?t=document.documentElement.scrollLeft:document.body&&(t=document.body.scrollLeft),t}},computed:{is_show_drop_down:function(){return-1!==this.sel_sku_group_index&&(!!this.sku_group_list[this.sel_sku_group_index]&&this.sku_group_list[this.sel_sku_group_index].show_drop_down)}},watch:{sku_group_list_prop:function(t){var e=t.map(function(t){return _e()({},t)});console.log(e),this.sku_group_list=e,this.group_primary_key=t.length,this.$emit("update",{sku_group_list:this.sku_group_list})}}},xe={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"xs-sku"},[i("div",[t._l(t.sku_group_list,function(e,s){return i("div",{staticClass:"xs-sku-group"},[i("h3",{staticClass:"group-title"},[i("span",{staticClass:"group-title__label"},[t._v("规格名:")]),t._v(" "),i("div",{staticClass:"xs-popover-wrapper xs-select",attrs:{id:"auto_id"+e.id,"data-index":s},on:{click:function(e){return e.stopPropagation(),t.showSkuTitleDrop(e)}}},[i("div",{staticClass:"xs-select-text"},[t._v("\n              "+t._s(e.name?e.name:"请选择：按回车自定义")+"\n            ")])]),t._v(" "),0===s&&t.showAttrBtn?i("el-checkbox",{staticClass:"xs-checkbox",staticStyle:{"margin-left":"10px"},model:{value:e.add_img,callback:function(i){t.$set(e,"add_img",i)},expression:"item.add_img"}},[i("span",{staticClass:"xs-checkbox__label"},[t._v("添加规格图片")])]):t._e(),t._v(" "),t.showAttrBtn?i("a",{staticClass:"remove-sku-group",on:{click:function(e){t.deleteSku(s)}}},[t._v("×")]):t._e()],1),t._v(" "),i("div",{staticClass:"group-container"},[i("span",{staticClass:"sku-list__label"},[t._v("规格值：")]),t._v(" "),i("div",[i("div",{staticClass:"xs-sku__list"},[t._l(e.attrs,function(o,a){return i("div",{staticClass:"xs-sku-item",style:{"margin-bottom":e.add_img?"100px":"0"},on:{click:function(e){t.skuNameDidEdit(s,a)}}},[i("span",[t._v(t._s(o.name))]),t._v(" "),t.showAttrBtn?i("div",{staticClass:"item-remove",on:{click:function(e){e.stopPropagation(),t.skuNameDidDelete(s,a)}}},[t._v("×")]):t._e(),t._v(" "),e.add_img?i("div",{staticClass:"upload-img-wrap"},[i("div",{staticClass:"arrow"}),t._v(" "),i("div",{staticClass:"upload-img"},[i("span",{directives:[{name:"show",rawName:"v-show",value:o.pic,expression:"subItem.pic"}],staticClass:"item-remove small",attrs:{title:"删除"},on:{click:function(e){e.stopPropagation(),t.deletePhoto(a)}}},[t._v("×")]),t._v(" "),o.pic?i("img",{attrs:{src:o.pic},on:{click:function(t){t.stopPropagation()}}}):i("div",{staticClass:"item-upload-container",staticStyle:{position:"relative"},on:{click:function(e){e.stopPropagation(),t.uploadDidClick(a)}}},[i("div",{staticClass:"add-image js-btn-add"},[t._v("+")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:o.pic,expression:"subItem.pic"}],staticClass:"rc-upload"},[i("div",{staticClass:"img-edit"},[i("span",{staticStyle:{margin:"0 auto"},on:{click:function(e){e.stopPropagation(),t.replacePhoto(a)}}},[t._v("替换")])])])])]):t._e()])}),t._v(" "),t.showAttrBtn?i("span",{staticClass:"xs-sku-add",attrs:{"data-index":s},on:{click:t.showUIPopover}},[t._v("+ 添加")]):t._e()],2),t._v(" "),e.add_standard_img?i("p",{staticClass:"xs-assist-label",staticStyle:{"line-height":"1.5","margin-top":"20px"}},[t._v("\n              目前只支持为第一个规格设置不同的规格图片设置后,"),i("br"),t._v(" 用户选择不同规格会显示不同图片。建议尺寸：750X750（像素）\n            ")]):t._e()])]),t._v(" "),i("div",{staticClass:"sku-group-cont"})])}),t._v(" "),t.showAttrBtn?i("div",{staticClass:"xs-sku-group"},[i("h3",{staticClass:"group-title"},[i("el-button",{attrs:{size:"mini"},on:{click:t.addGroupList}},[t._v("添加规格项目")])],1)]):t._e(),t._v(" "),t.showAttrBtn?t._e():i("p",{staticClass:"xs-assist-label",staticStyle:{"line-height":"1.5","margin-top":"20px",color:"red"}},[t._v("\n        温馨提示：正在进行中的拼团或砍价商品，不能修改规格！！！\n      ")])],2)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.is_show_drop_down,expression:"is_show_drop_down"}],staticClass:"xs-popover-mask",on:{click:t.closeSkuTitleDrop}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.is_show_drop_down,expression:"is_show_drop_down"}],staticClass:"xs-popover xs-select",style:{position:"absolute",left:t.drop_down_left+"px",top:t.drop_down_top+"px"}},[i("div",{staticClass:"xs-popover-content"},[i("div",{staticClass:"xs-select-popup"},[i("div",{staticClass:"xs-select-search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.temp_sku_input_name,expression:"temp_sku_input_name"},{name:"focus",rawName:"v-focus",value:t.focusSearch,expression:"focusSearch"}],staticClass:"xs-select-filter",attrs:{type:"text"},domProps:{value:t.temp_sku_input_name},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.skuTitleDidClick(t.temp_sku_input_name)},input:function(e){e.target.composing||(t.temp_sku_input_name=e.target.value)}}})]),t._v(" "),t._l(t.sku_titles,function(e){return i("span",{staticClass:"xs-select-option",on:{click:function(i){t.skuTitleDidClick(e)}}},[t._v(t._s(e))])})],2)])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.is_show_ui_popover,expression:"is_show_ui_popover"}],staticClass:"ui-popover",style:{left:t.ui_popover_left+"px",top:t.ui_popover_top+"px"}},[i("div",{staticClass:"ui-popover-inner",style:{width:t.ui_popover_width+"px"}},[i("div",{staticClass:"select-container "},[i("ul",{staticClass:"select-choices"},[t._l(t.temp_of_sub_sku_items,function(e,s){return i("li",{staticClass:"select-search-choice",on:{click:function(e){t.deleteSubSkuOf(s)}}},[t._v("\n            "+t._s(e)+"\n            "),i("a",{staticClass:"select-search-choice-close",attrs:{href:"#",onclick:"return false;",tabindex:"-1"}})])}),t._v(" "),i("li",{staticClass:"select-search-field"},[i("input",{directives:[{name:"focus",rawName:"v-focus",value:t.focusPopover,expression:"focusPopover"},{name:"model",rawName:"v-model",value:t.adding_of_sub_name,expression:"adding_of_sub_name"}],attrs:{type:"text",placeholder:"添加规格值",maxlength:"20"},domProps:{value:t.adding_of_sub_name},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.addSubSkuOf(e):null},input:function(e){e.target.composing||(t.adding_of_sub_name=e.target.value)}}})])],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.adding_of_sub_name&&t.adding_of_sub_name.length>0,expression:"adding_of_sub_name && adding_of_sub_name.length > 0"}],staticClass:"select-drop"},[i("ul",{staticClass:"select-results"},[i("li",{staticClass:"select-highlighted",on:{click:t.addSubSkuOf}},[i("div",{staticClass:"select-result-label"},[t._v("回车或点击来添加规格值: "),i("i",[t._v(t._s(t.adding_of_sub_name))])])])])])]),t._v(" "),i("div",{staticClass:"ui-btn ui-btn-primary",staticStyle:{"vertical-align":"top"},on:{click:function(e){return e.stopPropagation(),t.confirmSubSku(e)}}},[t._v("确定")]),t._v(" "),i("div",{staticClass:"ui-btn",staticStyle:{"vertical-align":"top"},on:{click:function(e){t.is_show_ui_popover=!1}}},[t._v("取消")])]),t._v(" "),i("div",{staticClass:"arrow"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.is_show_ui_edit_popover,expression:"is_show_ui_edit_popover"}],staticClass:"ui-popover",style:{left:t.ui_popover_edit_left+"px",top:t.ui_popover_edit_top+"px"}},[i("div",{staticClass:"ui-popover-inner",style:{width:t.ui_popover_edit_width+"px"}},[i("div",{staticClass:"select-container ",staticStyle:{width:"192px"}},[i("ul",{staticClass:"select-choices"},[i("li",{staticClass:"select-search-field"},[i("input",{directives:[{name:"focus",rawName:"v-focus",value:t.focusPopover,expression:"focusPopover"},{name:"model",rawName:"v-model",value:t.temp_edit_name,expression:"temp_edit_name"}],attrs:{type:"text",placeholder:"修改规格值",maxlength:"20"},domProps:{value:t.temp_edit_name},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.confirmSubSkuDidEdit(e):null},input:function(e){e.target.composing||(t.temp_edit_name=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"ui-btn ui-btn-primary",staticStyle:{"vertical-align":"top"},on:{click:t.confirmSubSkuDidEdit}},[t._v("确定")]),t._v(" "),i("div",{staticClass:"ui-btn",staticStyle:{"vertical-align":"top"},on:{click:function(e){e.stopPropagation(),t.is_show_ui_edit_popover=!1}}},[t._v("取消")])]),t._v(" "),i("div",{staticClass:"arrow"})]),t._v(" "),i("upload-photo",{attrs:{limit:1,multity:"index"+(t.current_upload_sub_item_index+1),show:t.showPhotoDialog,action:t.photo_action,reset:t.need_reset},on:{"update:show":function(e){t.showPhotoDialog=e},"update:reset":function(e){t.need_reset=e},confirm:t.confirmPhoto}})],1)},staticRenderFns:[]};var Ce={name:"goods-list",components:{UploadPhoto:Q,Sku:i("VU/8")(ye,xe,!1,function(t){i("mbKe")},null,null).exports,SkuTable:fe},computed:G()({},Object(Z.b)(["isShowUpload"])),data:function(){return{showAttrBtn:!0,initSkuList:[],skuListPool:[],computed_sku_group_list:[],skuList:[],batchInfo:{type:1,number:0},editor_imgs:[],showPhotoDialog:!1,btn_loading:!1,btn_desc_loading:!1,activeName:"first",formLabelWidth:"120px",goods:{frozen:!0,sort:100,content:"",price:0,type:1},next_disbaled:!0,rules:{thumb:[{required:!0,message:"请选择图片",trigger:"blur"}],name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],energy:[{required:!0,message:"请输入能量",trigger:"blur"}],stock:[{required:!0,message:"请输入商品库存",trigger:"blur"}]}}},created:function(){this.goods.type=1,this.$route.params.id&&(this.goods.id=this.$route.params.id,this.getGoodsInfo())},methods:G()({getGoodsInfo:function(){var t=this;se(this.goods.id).then(function(e){if(t.next_disbaled=!1,t.goods=e.goods,t.goods.content=t.goods.content?t.goods.content:"",t.goods.frozen=Boolean(t.goods.frozen),t.goods.attrs){t.goods.attrs=JSON.parse(t.goods.attrs);var i=0;if(t.goods.attrs.forEach(function(t){var e=[];t.attrs.forEach(function(t){e.push(t.name)}),t.attr_temps=e,t.show_drop_down=!1,t.show_ui_popover=!1,t.id=i++}),t.goods.skuList){t.goods.skuList.forEach(function(t){t.attrs=JSON.parse(t.attrs)}),t.skuListPool=t.skuListPool.concat(t.goods.skuList);var s=t.goods.attrs.slice(0);t.initSkuList=s}}},function(e){t.$message.error(e.msg)})},updateSkuTable:function(t){var e=this,i=t.need_clear,s=t.sku_group_list,o=[];this.skuList=[],this.computed_sku_group_list=[],i&&(this.skuListPool=[]);var a=!0,n=!1,l=void 0;try{for(var r,c=pe()(s);!(a=(r=c.next()).done);a=!0){var u=r.value;u.attr_temps&&u.attr_temps.length>0&&(o.push(u.attr_temps),this.computed_sku_group_list.push(u))}}catch(t){n=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(n)throw l}}var d=function t(e){var i=e.length;if(i>=2){for(var s=e[0],o=e[1],a=e[0].length,n=e[1].length,l=new Array(a*n),r=0,c=0;c<a;c++)for(var u=0;u<n;u++)l[r]=(s[c],s[c]+","+o[u]),r++;var d=new Array(i-1);if(d[0]=l,i>2){var p=1;for(c=2;c<i;c++)d[p]=e[c],p++}return t(d)}return e[0]}(o);if(d){var p=function(t){var i=t.split(",");(v=e.skuListPool.find(function(e){return e.attrs.join(",")===t}))||(v={attrs:i,stock:0,energy:0,price:0,frozen:1}),e.skuListPool.push(v),e.skuList.push(v)},m=!0,h=!1,f=void 0;try{for(var g,_=pe()(d);!(m=(g=_.next()).done);m=!0){var v;p(g.value)}}catch(t){h=!0,f=t}finally{try{!m&&_.return&&_.return()}finally{if(h)throw f}}}},getRow:function(t,e){if(0===this.computed_sku_group_list.length)return 1;for(var i=1,s=e+1;s<this.computed_sku_group_list.length;s++)i*=0===this.computed_sku_group_list[s].attrs.length?1:this.computed_sku_group_list[s].attrs.length;return i},needShow:function(t,e){return t%this.getRow(t,e)==0},stockKeyup:function(t){var e=0;this.skuList.forEach(function(t){void 0!==t.stock&&null!==t.stock&&""!==t.stock||(t.stock=0),e+=parseInt(t.stock)}),this.goods.stock=e},batchSetNumber:function(){var t=this;if(1==this.batchInfo.type)this.skuList.forEach(function(e){e.energy=parseFloat(t.batchInfo.number)});else if(2==this.batchInfo.type)this.skuList.forEach(function(e){e.price=parseFloat(t.batchInfo.number)});else if(3==this.batchInfo.type){var e=0;this.skuList.forEach(function(i){i.stock=parseInt(t.batchInfo.number),e+=i.stock}),this.goods.stock=e}},save:function(){var t=this;this.$refs.EditForm.validate(function(e){if(e){if(t.skuList&&t.skuList.length>0){var i=t.skuList.map(function(t){return t.energy});t.goods.energy=Math.min.apply(null,i)}else if(!t.goods.energy)return void t.$message.error("请输入商品换购所需能量");t.btn_loading=!0,t.goods.attrs=t.computed_sku_group_list,t.goods.skuList=t.skuList,oe(t.goods).then(function(e){t.btn_loading=!1,0===e.code?(t.$message.success("保存成功！"),t.goods.id=e.goodsId,t.activeName="second",t.next_disbaled=!1):t.$message.error(e.msg)},function(e){t.btn_loading=!1,t.$message.error(e.msg)})}})},saveDesc:function(){var t=this;this.btn_desc_loading=!0,oe({id:this.goods.id,content:this.goods.content}).then(function(e){t.btn_desc_loading=!1,0===e.code?(t.$message.success("保存成功！"),t.activeName="first",t.back()):t.$message.error(e.msg)},function(e){t.btn_desc_loading=!1,t.$message.error(e.msg)})},confirmPhoto:function(t){this.goods.thumb=t[0]},updateData:function(t){this.goods.content=t},back:function(){this.$router.push({path:"/store/manager/goods"})}},Object(Z.c)(["showUpload"]),{confirmEditorImg:function(t){var e=this;this.showUpload(!1),console.log(t);var i=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});le(t).then(function(t){i.close(),t.picArr&&t.picArr.forEach(function(t){e.$refs.editor.execCommand("insertImage",t)})},function(t){i.close(),e.$message.error(t.msg)})},switchEditorShow:function(t){this.showUpload(t)}})},ze={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-add-content goods-add-content"},[i("h1",{staticClass:"content__title"},[i("router-link",{attrs:{to:"/store/manager/goods"}},[t._v("商品列表 ")]),t._v(" / "+t._s(t.$route.meta.title)+"\n  ")],1),t._v(" "),i("div",{staticClass:"content__main",staticStyle:{"margin-top":"20px"}},[i("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{staticClass:"main-first",staticStyle:{"padding-bottom":"30px"},attrs:{label:"① 填写基本信息",name:"first"}},[i("div",{staticClass:"section"},[i("h3",{staticClass:"section-title"},[t._v("基本信息")]),t._v(" "),i("div",{staticClass:"section-content"},[i("el-form",{ref:"EditForm",staticStyle:{width:"600px"},attrs:{rules:t.rules,model:t.goods,"label-width":t.formLabelWidth}},[i("el-form-item",{attrs:{label:"缩略图",prop:"thumb"}},[i("ul",{staticClass:"app-image-list"},[t.goods.thumb?i("li",{staticClass:"image-item",on:{click:function(e){t.showPhotoDialog=!0}}},[i("img",{attrs:{src:t.goods.thumb,role:"presentation",alt:"",width:"80"}})]):i("li",{staticClass:"el-upload el-upload--picture-card",staticStyle:{width:"80px",height:"80px","line-height":"1"},on:{click:function(e){t.showPhotoDialog=!0}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"40px","margin-top":"20px"}})])])]),t._v(" "),i("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[i("el-input",{attrs:{size:"small"},model:{value:t.goods.name,callback:function(e){t.$set(t.goods,"name",e)},expression:"goods.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"排序字段",prop:"sort"}},[i("el-input",{attrs:{size:"small"},model:{value:t.goods.sort,callback:function(e){t.$set(t.goods,"sort",e)},expression:"goods.sort"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("按数值大小升序，越小排在越前")])],1),t._v(" "),i("el-form-item",{attrs:{label:"显示状态",prop:"frozen"}},[i("el-switch",{attrs:{"active-text":t.goods.frozen?"上架中":"已下架"},model:{value:t.goods.frozen,callback:function(e){t.$set(t.goods,"frozen",e)},expression:"goods.frozen"}})],1)],1)],1)]),t._v(" "),i("div",{staticClass:"section"},[i("h3",{staticClass:"section-title"},[t._v("规格/价格/库存")]),t._v(" "),i("div",{staticClass:"section-content"},[i("el-form",{ref:"EditForm",attrs:{rules:t.rules,model:t.goods,"label-width":t.formLabelWidth}},[t.showAttrBtn||t.goods.attrs?i("el-form-item",{attrs:{label:"商品规格"}},[i("sku",{attrs:{showAttrBtn:t.showAttrBtn,sku_group_list_prop:t.initSkuList},on:{update:t.updateSkuTable}})],1):t._e(),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.computed_sku_group_list&&t.computed_sku_group_list.length>0,expression:"computed_sku_group_list && computed_sku_group_list.length > 0"}],attrs:{label:"规格明细"}},[i("sku-table",[i("tr",{attrs:{slot:"head"},slot:"head"},[t._l(t.computed_sku_group_list,function(e){return e.attrs.length>0?i("th",[t._v("\n                      "+t._s(e.name)+"\n                    ")]):t._e()}),t._v(" "),i("th",{staticClass:"th-saleprice"},[t._v("消费能量")]),t._v(" "),i("th",{staticClass:"th-stock"},[t._v("库存")]),t._v(" "),i("th",{staticClass:"th-operation"},[t._v("操作")])],2),t._v(" "),t._l(t.skuList,function(e,s){return i("tr",{attrs:{slot:"foot"},slot:"foot"},[t._l(e.attrs,function(e,o){return[t.needShow(s,o)?i("td",{staticClass:"middle-td",attrs:{rowspan:t.getRow(s,o)}},[t._v(t._s(e))]):t._e()]}),t._v(" "),i("td",[i("el-input",{attrs:{size:"small",disabled:!t.showAttrBtn},model:{value:e.energy,callback:function(i){t.$set(e,"energy",i)},expression:"row_item.energy"}})],1),t._v(" "),i("td",[i("el-input",{attrs:{size:"small"},on:{change:function(e){t.stockKeyup(s)}},model:{value:e.stock,callback:function(i){t.$set(e,"stock",i)},expression:"row_item.stock"}})],1),t._v(" "),i("td",[0===e.frozen?i("span",{staticStyle:{color:"red"}},[t._v("禁用中")]):t._e(),t._v(" "),1===e.frozen?i("span",{staticStyle:{color:"green"}},[t._v("已启用")]):t._e(),t._v(" "),i("el-button",{staticClass:"form__button",attrs:{type:"text"},on:{click:function(t){e.frozen=!e.frozen}}},[t._v(t._s(1==e.frozen?"禁用":"启用"))])],1)],2)}),t._v(" "),i("tr",{attrs:{slot:"foot"},slot:"foot"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"setting-wrap"},[i("span",[t._v("批量设置:")]),t._v(" "),i("el-radio-group",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini"},model:{value:t.batchInfo.type,callback:function(e){t.$set(t.batchInfo,"type",e)},expression:"batchInfo.type"}},[i("el-radio-button",{attrs:{label:"1"}},[t._v("能量")]),t._v(" "),i("el-radio-button",{attrs:{label:"3"}},[t._v("库存")])],1),t._v(" "),i("el-input",{staticClass:"xs-input",attrs:{size:"mini"},model:{value:t.batchInfo.number,callback:function(e){t.$set(t.batchInfo,"number",e)},expression:"batchInfo.number"}}),t._v(" "),i("el-button",{staticClass:"xs-button",attrs:{size:"mini",type:"primary"},on:{click:function(e){return e.stopPropagation(),t.batchSetNumber(e)}}},[t._v("确认")]),t._v(" "),i("div",{staticClass:"setting__total-wrap"},[i("span",[t._v("总库存")]),t._v(" "),i("el-input",{staticClass:"xs-input",attrs:{size:"mini",disabled:!0,value:t.goods.stock}})],1)],1)])])],2)],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.computed_sku_group_list||0===t.computed_sku_group_list.length,expression:"!computed_sku_group_list || computed_sku_group_list.length === 0"}]},[i("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"能量",prop:"energy"}},[i("el-input",{staticClass:"xs-input",attrs:{size:"mini",disabled:!t.showAttrBtn},model:{value:t.goods.energy,callback:function(e){t.$set(t.goods,"energy",e)},expression:"goods.energy"}})],1),t._v(" "),i("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"库存",prop:"stock"}},[i("el-input",{staticClass:"xs-input",attrs:{size:"mini"},model:{value:t.goods.stock,callback:function(e){t.$set(t.goods,"stock",e)},expression:"goods.stock"}})],1)],1)],1)],1)]),t._v(" "),i("div",{staticClass:"next-footer",staticStyle:{"margin-left":"120px"}},[i("el-button",{attrs:{size:"small",type:"primary",loading:t.btn_loading},on:{click:t.save}},[t._v(t._s(1==t.goods.type?"保存并下一步":"保存"))]),t._v(" "),i("el-button",{attrs:{size:"small"},on:{click:t.back}},[t._v("返回")])],1)]),t._v(" "),1==t.goods.type?i("el-tab-pane",{staticStyle:{"padding-bottom":"30px"},attrs:{label:"② 编辑详情",name:"second",disabled:t.next_disbaled}},[i("vue-html5-editor",{ref:"editor",attrs:{content:t.goods.content,"show-module-name":!1,height:500},on:{change:t.updateData}}),t._v(" "),i("div",{staticClass:"next-footer",staticStyle:{"margin-left":"120px","margin-top":"10px"}},[i("el-button",{attrs:{size:"small",type:"primary",loading:t.btn_desc_loading},on:{click:function(e){t.saveDesc()}}},[t._v("保存")]),t._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(e){t.activeName="first"}}},[t._v("上一步")])],1)],1):t._e()],1)],1),t._v(" "),i("upload-photo",{attrs:{limit:1,action:"change",show:t.showPhotoDialog},on:{"update:show":function(e){t.showPhotoDialog=e},confirm:t.confirmPhoto}}),t._v(" "),i("upload-photo",{attrs:{limit:5,limit_max:!1,show:t.isShowUpload,current_len:t.editor_imgs.length},on:{confirm:t.confirmEditorImg,"update:show":t.switchEditorShow}})],1)},staticRenderFns:[]};var $e=i("VU/8")(Ce,ze,!1,function(t){i("i4IU")},null,null).exports,Se={name:"goods-list",components:{CommonTemplate:S.default},data:function(){return{list:null,req:{type:2},page:{pageNo:1,pageSize:20},choose_id_arr:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.req.p=this.page.pageNo,this.req.s=this.page.pageSize,ie(this.req).then(function(e){t.list=e.list,t.list.forEach(function(t){t.frozen=Boolean(t.frozen)}),t.page=e.page},function(e){t.$message.error(e.msg)})},reload:function(){this.page.pageNo=1,this.getList()},changePageSize:function(t){this.page.pageNo=1,this.page.pageSize=t,this.list=null,this.getList()},changePageNo:function(t){this.page.pageNo=t,this.list=null,this.getList()},handleSelectionChange:function(t){this.choose_id_arr=t},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection(),this.choose_id_arr=t},handleEdit:function(t){this.$router.push({path:"/store/manager/cent/edit/"+t})},changeStatus:function(t,e){var i=this;ne([t],e?1:0).then(function(t){i.$message.success("操作成功"),i.reload()},function(t){i.$message.error(t.msg)})},batchPublish:function(t){var e=this;if(0!==this.choose_id_arr.length){var i=this.choose_id_arr.map(function(t){return t.id});this.$confirm("确认"+(t?"上架":"下架")+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){ne(i,t?1:0).then(function(t){e.$message.success("操作成功"),e.reload()},function(t){e.$message.error(t.msg)})}).catch(function(){})}else this.$message.error("请至少选择一个商品！")},handleDelete:function(t){var e=this,i=[t];if(0==t){if(0===this.choose_id_arr.length)return void this.$message.error("请至少选择一项！");i=this.choose_id_arr.map(function(t){return t.id})}this.$confirm("删除后无法恢复，是否确认？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){ae(i).then(function(t){e.$message.success("操作成功"),e.reload()},function(t){e.$message.error(t.msg)})})}}},Pe={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"poster-list"},[i("common-template",[i("h1",{staticClass:"content__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),i("div",{staticClass:"content__main-operation",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"operation-left"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.$router.push("/store/manager/cent/add")}}},[t._v("新增商品")]),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){t.batchPublish(1)}}},[t._v("批量上架")]),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){t.batchPublish(0)}}},[t._v("批量下架")]),t._v(" "),i("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){t.handleDelete(0)}}},[t._v("批量删除")])],1),t._v(" "),i("div",{staticClass:"operation-right"},[i("el-input",{attrs:{size:"small",placeholder:"请输入内容"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.reload(e):null}},model:{value:t.req.name,callback:function(e){t.$set(t.req,"name",e)},expression:"req.name"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){t.reload()}},slot:"append"})],1)],1)]),t._v(" "),i("div",{staticClass:"content__main-list",attrs:{slot:"list"},slot:"list"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!t.list,expression:"!list"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{"min-width":"250",label:"商品信息",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"info-item"},[i("i",{staticClass:"item__image",style:{backgroundImage:"url("+e.row.thumb+")"}}),t._v(" "),i("div",{staticClass:"item__info"},[i("p",{staticClass:"item__info-main",staticStyle:{"font-weight":"500"}},[t._v(t._s(e.row.name))])])])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"换购条件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticStyle:{color:"red"}},[t._v(t._s(e.row.energy)+"能量"),i("br"),t._v("0.01元")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"库存",align:"center",prop:"stock"}}),t._v(" "),i("el-table-column",{attrs:{label:"排序",align:"center",prop:"sort"}}),t._v(" "),i("el-table-column",{attrs:{width:"150",label:"上架状态",align:"center",prop:"createTime"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-switch",{attrs:{"active-text":e.row.frozen?"已上架":"已下架"},on:{change:function(i){t.changeStatus(e.row.id,e.row.frozen)}},model:{value:e.row.frozen,callback:function(i){t.$set(e.row,"frozen",i)},expression:"scope.row.frozen"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"100",label:"创建时间",align:"center",prop:"createTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){t.handleEdit(e.row.id)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.list&&t.list.length>0?i("div",{staticStyle:{"text-align":"center","margin-top":"60px"}},[i("el-pagination",{attrs:{"page-sizes":[10,20,30,40,50],"page-size":t.page.pageSize,"current-page":t.page.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:t.page.totalRows},on:{"size-change":t.changePageSize,"current-change":t.changePageNo}})],1):t._e()],1)])],1)},staticRenderFns:[]};var Ne=i("VU/8")(Se,Pe,!1,function(t){i("+8Wd")},null,null).exports,Ee={name:"goods-list",components:{UploadPhoto:Q},computed:G()({},Object(Z.b)(["isShowUpload"])),data:function(){return{editor_imgs:[],showPhotoDialog:!1,btn_loading:!1,btn_desc_loading:!1,activeName:"first",formLabelWidth:"120px",goods:{frozen:!0,sort:100,content:"",price:0},next_disbaled:!0,rules:{thumb:[{required:!0,message:"请选择图片",trigger:"blur"}],name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],energy:[{required:!0,message:"请输入能量",trigger:"blur"}],stock:[{required:!0,message:"请输入商品库存",trigger:"blur"}]}}},created:function(){this.goods.type=2,this.$route.params.id&&(this.goods.id=this.$route.params.id,this.getGoodsInfo())},methods:G()({getGoodsInfo:function(){var t=this;se(this.goods.id).then(function(e){t.next_disbaled=!1,t.goods=e.goods,t.goods.content=t.goods.content?t.goods.content:"",t.goods.frozen=Boolean(t.goods.frozen)},function(e){t.$message.error(e.msg)})},save:function(){var t=this;this.$refs.EditForm.validate(function(e){e&&(t.btn_loading=!0,oe(t.goods).then(function(e){t.btn_loading=!1,0===e.code?(t.$message.success("保存成功！"),t.goods.id=e.goodsId,t.activeName="second",t.next_disbaled=!1):t.$message.error(e.msg)},function(e){t.btn_loading=!1,t.$message.error(e.msg)}))})},saveDesc:function(){var t=this;this.btn_desc_loading=!0,oe({id:this.goods.id,content:this.goods.content}).then(function(e){t.btn_desc_loading=!1,0===e.code?(t.$message.success("保存成功！"),t.activeName="first",t.back()):t.$message.error(e.msg)},function(e){t.btn_desc_loading=!1,t.$message.error(e.msg)})},confirmPhoto:function(t){this.goods.thumb=t[0]},updateData:function(t){this.goods.content=t},back:function(){this.$router.push({path:"/store/manager/cent"})}},Object(Z.c)(["showUpload"]),{confirmEditorImg:function(t){var e=this;this.showUpload(!1),console.log(t);var i=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});le(t).then(function(t){i.close(),t.picArr&&t.picArr.forEach(function(t){e.$refs.editor.execCommand("insertImage",t)})},function(t){i.close(),e.$message.error(t.msg)})},switchEditorShow:function(t){this.showUpload(t)}})},Le={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-add-content goods-add-content"},[i("h1",{staticClass:"content__title"},[i("router-link",{attrs:{to:"/store/manager/cent"}},[t._v("商品列表 ")]),t._v(" / "+t._s(t.$route.meta.title)+"\n  ")],1),t._v(" "),i("div",{staticClass:"content__main",staticStyle:{"margin-top":"20px"}},[i("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{staticClass:"main-first",staticStyle:{"padding-bottom":"30px"},attrs:{label:"① 填写基本信息",name:"first"}},[i("div",{staticClass:"section"},[i("h3",{staticClass:"section-title"},[t._v("基本信息")]),t._v(" "),i("div",{staticClass:"section-content"},[i("el-form",{ref:"EditForm",staticStyle:{width:"600px"},attrs:{rules:t.rules,model:t.goods,"label-width":t.formLabelWidth}},[i("el-form-item",{attrs:{label:"缩略图",prop:"thumb"}},[i("ul",{staticClass:"app-image-list"},[t.goods.thumb?i("li",{staticClass:"image-item",on:{click:function(e){t.showPhotoDialog=!0}}},[i("img",{attrs:{src:t.goods.thumb,role:"presentation",alt:"",width:"80"}})]):i("li",{staticClass:"el-upload el-upload--picture-card",staticStyle:{width:"80px",height:"80px","line-height":"1"},on:{click:function(e){t.showPhotoDialog=!0}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"40px","margin-top":"20px"}})])])]),t._v(" "),i("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[i("el-input",{attrs:{size:"small"},model:{value:t.goods.name,callback:function(e){t.$set(t.goods,"name",e)},expression:"goods.name"}})],1),t._v(" "),i("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"换购能量",prop:"energy"}},[i("el-input",{staticClass:"xs-input",attrs:{size:"mini"},model:{value:t.goods.energy,callback:function(e){t.$set(t.goods,"energy",e)},expression:"goods.energy"}})],1),t._v(" "),i("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"库存",prop:"stock"}},[i("el-input",{staticClass:"xs-input",attrs:{size:"mini"},model:{value:t.goods.stock,callback:function(e){t.$set(t.goods,"stock",e)},expression:"goods.stock"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"初始销量",prop:"salesNum"}},[i("el-input",{staticStyle:{width:"160px"},attrs:{size:"small"},model:{value:t.goods.salesNum,callback:function(e){t.$set(t.goods,"salesNum",e)},expression:"goods.salesNum"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("设置后商品详情中会显示销量，销量值=初始销量+实际销量")])],1),t._v(" "),i("el-form-item",{attrs:{label:"划线价",prop:"marketPrice"}},[i("el-input",{staticStyle:{width:"160px"},attrs:{size:"small"},model:{value:t.goods.marketPrice,callback:function(e){t.$set(t.goods,"marketPrice",e)},expression:"goods.marketPrice"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("设置后商品列表会展示划线价，用于营造优惠感")])],1),t._v(" "),i("el-form-item",{attrs:{label:"排序字段",prop:"sort"}},[i("el-input",{attrs:{size:"small"},model:{value:t.goods.sort,callback:function(e){t.$set(t.goods,"sort",e)},expression:"goods.sort"}}),t._v(" "),i("p",{staticClass:"xs-assist-label"},[t._v("按数值大小升序，越小排在越前")])],1),t._v(" "),i("el-form-item",{attrs:{label:"显示状态",prop:"frozen"}},[i("el-switch",{attrs:{"active-text":t.goods.frozen?"上架中":"已下架"},model:{value:t.goods.frozen,callback:function(e){t.$set(t.goods,"frozen",e)},expression:"goods.frozen"}})],1)],1)],1)]),t._v(" "),i("div",{staticClass:"next-footer",staticStyle:{"margin-left":"120px"}},[i("el-button",{attrs:{size:"small",type:"primary",loading:t.btn_loading},on:{click:t.save}},[t._v(t._s(1==t.goods.type?"保存并下一步":"保存"))]),t._v(" "),i("el-button",{attrs:{size:"small"},on:{click:t.back}},[t._v("返回")])],1)]),t._v(" "),i("el-tab-pane",{staticStyle:{"padding-bottom":"30px"},attrs:{label:"② 编辑详情",name:"second",disabled:t.next_disbaled}},[i("vue-html5-editor",{ref:"editor",attrs:{content:t.goods.content,"show-module-name":!1,height:500},on:{change:t.updateData}}),t._v(" "),i("div",{staticClass:"next-footer",staticStyle:{"margin-left":"120px","margin-top":"10px"}},[i("el-button",{attrs:{size:"small",type:"primary",loading:t.btn_desc_loading},on:{click:function(e){t.saveDesc()}}},[t._v("保存")]),t._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(e){t.activeName="first"}}},[t._v("上一步")])],1)],1)],1)],1),t._v(" "),i("upload-photo",{attrs:{limit:1,action:"change",show:t.showPhotoDialog},on:{"update:show":function(e){t.showPhotoDialog=e},confirm:t.confirmPhoto}}),t._v(" "),i("upload-photo",{attrs:{limit:5,limit_max:!1,show:t.isShowUpload,current_len:t.editor_imgs.length},on:{confirm:t.confirmEditorImg,"update:show":t.switchEditorShow}})],1)},staticRenderFns:[]};var Te=i("VU/8")(Ee,Le,!1,function(t){i("3xzg")},null,null).exports,De={path:"/store",name:"兑换商城",icon:"el-icon-star-off",component:ee,hidden_child:!1,children:[{name:"商城管理",path:"manager",component:Xt,children:[{name:"兑换商品",path:"goods",component:ue,meta:{title:"兑换商品"}},{exclude:!0,path:"goods/add",component:$e,meta:{title:"添加换购商品"}},{exclude:!0,path:"goods/edit/:id",component:$e,meta:{title:"编辑商品信息"}},{name:"一分钱换购",path:"cent",component:Ne,meta:{title:"一分钱换购"}},{exclude:!0,path:"cent/add",component:Te,meta:{title:"添加一分购商品"}},{exclude:!0,path:"cent/edit/:id",component:Te,meta:{title:"编辑商品信息"}},{name:"订单管理",path:"orders",component:ue,meta:{title:"订单管理"}}],redirect:"/store/manager/goods"}],redirect:"/store/manager"};s.default.use(n.a);var Ve=[{path:"/login",name:"登录",component:function(t){return i.e(0).then(function(){var e=[i("xJsL")];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/",name:"home",component:_,redirect:"/dashboard",leaf:!0,menuShow:!0,iconCls:"iconfont icon-home",children:[{path:"/dashboard",component:b,name:"首页",icon:"el-icon-menu",meta:{title:"首页"}},De,L,St,Jt]},{path:"*",name:"111",exclude:!0,redirect:b.path}],qe=new n.a({routes:Ve}),Fe=["/login","/authredirect"];qe.beforeEach(function(t,e,i){t.meta.title&&(document.title=t.meta.title);var s=Object(l.a)();s&&""!=s?i():(console.log("has no token"),-1!==Fe.indexOf(t.path)?i():i("/login"))});var Ue=i("zL8q"),Ae=i.n(Ue),Re={state:{roles:[]}},Be={token:function(t){return t.user.token},roles:function(t){return t.user.roles}},Ie={state:{isShowUpload:!1},getters:{isShowUpload:function(t){return t.isShowUpload}},actions:{},mutations:{showUpload:function(t,e){t.isShowUpload=e}}};s.default.use(Z.a);var je=new Z.a.Store({modules:{user:Re,editor:Ie},getters:Be}),Oe=i("g6v0"),We=i.n(Oe);i("tvR6"),i("0ZNX");s.default.use(Ae.a),s.default.directive("focus",{update:function(t,e){e.value&&t.focus()}}),s.default.use(We.a,{showModuleName:!0,image:{sizeLimit:2097152,upload:{url:"/energy_ht/file/upload",fieldName:"upfile"},uploadHandler:function(t){return(t=JSON.parse(t)).filePath},compress:{width:750,quality:80},width:500,height:500,quality:80},language:"zh-cn",hiddenModules:["image"],modules:[{name:"multi images",icon:"fa fa-file-picture-o",show:!0,handler:function(){je.commit("showUpload",!0)}}]}),new s.default({el:"#app",store:je,router:qe,components:{App:a},template:"<App/>"})},QYWw:function(t,e){},R1ah:function(t,e){},R33N:function(t,e){},TIfe:function(t,e,i){"use strict";e.a=function(){return o.a.get(a)},e.b=function(t){return o.a.set(a,t)};var s=i("lbHh"),o=i.n(s),a="Admin-Token"},V8gb:function(t,e){},WVyz:function(t,e){},faVD:function(t,e){},i4IU:function(t,e){},k2gW:function(t,e){},kmkW:function(t,e){},kugF:function(t,e){},kyaf:function(t,e){},lHVt:function(t,e){},lryW:function(t,e){},mbKe:function(t,e){},oIwQ:function(t,e){},rT4t:function(t,e){},tvR6:function(t,e){},uFv7:function(t,e){},w4jL:function(t,e,i){"use strict";var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common-list-content"},[this._t("title"),this._v(" "),e("div",{staticClass:"content__main"},[this._t("header"),this._v(" "),e("div",{staticClass:"content__main-list"},[this._t("list")],2)],2)],2)},staticRenderFns:[]};e.a=s},"xjG/":function(t,e){},"y+jZ":function(t,e){},yGq3:function(t,e){},yc4b:function(t,e){},"z74+":function(t,e){},zZ0s:function(t,e){},zgCA:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8e39baea25e71e6c7d53.js.map